"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[652],{55041:function(e,a,s){s.r(a),a.default={src:"/_next/static/media/Arm_holdSkull.5097b2cc.png",height:375,width:375,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAHlBMVEVMaXFqamo3NzcuLi4/Pz8sLCwzMzNGRkZiYmIlJSUbGWNhAAAACnRSTlMAEx04kJWh1nfG8PWoZgAAAAlwSFlzAAAD6AAAA+gBtXtSawAAAB9JREFUeJxjYMAGmFnZWDhBDA52JiZmEIOREatCOAAACPUANHAC38sAAAAASUVORK5CYII=",blurWidth:8,blurHeight:8}},95016:function(e,a,s){s.r(a),a.default={src:"/_next/static/media/Arm_holdSkull.28dc79d4.png",height:768,width:768,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAHlBMVEVMaXFzc3MxMTEvLy87OzstLS0tLS1JSUlhYWEoKCi3YRfXAAAACnRSTlMAEhw2kpOi1nXGmRBeIQAAAAlwSFlzAAAD6AAAA+gBtXtSawAAAB9JREFUeJxjYMAGmFnZWDhBDA52JiZmEIOREatCOAAACPUANHAC38sAAAAASUVORK5CYII=",blurWidth:8,blurHeight:8}},80258:function(e,a,s){s.r(a),a.default={src:"/_next/static/media/Arena_Landing.39d5dcac.png",height:2160,width:1920,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAcAAAAICAMAAAAC2hU0AAAADFBMVEUODhMXFxwjIyhOTlPY1XPHAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAJ0lEQVR4nE3KwQ0AMAzCQI7uv3OVKo/6gy2RLMXbUoLR6aPN6F5+LgZDAC1eBkEUAAAAAElFTkSuQmCC",blurWidth:7,blurHeight:8}},96879:function(e,a,s){s.r(a),a.default={src:"/_next/static/media/Arena_Landing.5bcf5fe4.png",height:2160,width:2560,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAHCAMAAAACh/xsAAAACVBMVEUNDRIiIicXFxzdA7RTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAI0lEQVR4nD3KwQkAAAzCQJP9hy5S2nsFMTmAFUG0i9SG8t83Bo4ALUGewJoAAAAASUVORK5CYII=",blurWidth:8,blurHeight:7}},60652:function(e,a,s){s.d(a,{Z:function(){return R}});var n=s(47568),t=s(828),i=s(36305),r=s(20414),l=s(85893),o=s(67294),c=s(96584),d=s(41664),u=s.n(d),h=s(59417),m=s(67814);function A(e){var a=function(a){e.onPageChange(a)};return(0,l.jsx)("div",{className:"table-pagination",children:(0,l.jsxs)("ul",{children:[" ",(function(){var s=[];if(e.totalPages>1&&s.push({key:"prev-item",label:"<",className:"prev pagination-item",onClick:function(){return a(e.currentPage-1)}}),e.totalPages<=e.maxPages)for(var n=function(n){s.push({key:n.toString(),label:"".concat(n),className:"".concat(n===e.currentPage?"active ":"","pagination-item"),onClick:function(){return a(n)}})},t=1;t<=e.totalPages;t++)n(t);else{var i=function(n){s.push({key:n.toString(),label:"".concat(n),className:"".concat(n===e.currentPage?"active ":"","pagination-item"),onClick:function(){return a(n)}})},r=e.currentPage,l=e.totalPages;r>2&&s.push({key:"dots-start",label:"...",className:"dots pagination-item"});var o=Math.max(1,r-2),c=Math.min(r+2,l-1);1===r&&(o=1),r>=l-1&&(c=l);for(var d=o;d<=c;d++)i(d);r<l-2&&s.push({key:"dots-end",label:"...",className:"dots pagination-item"})}return e.totalPages>1&&s.push({key:"next-item",label:">",className:"next pagination-item",onClick:function(){return a(e.currentPage+1)}}),s})().map(function(e){return(0,l.jsx)("li",{className:e.className,onClick:e.onClick,children:e.label},e.key)})]})})}var f=["\uD83E\uDD47","\uD83E\uDD48","\uD83E\uDD49"];function b(e){var a=e.pagination||1,s=e.page||1,n=(0,t.Z)((0,o.useState)([]),2),i=n[0],r=n[1];return e.leaderboard.sort(function(a,s){if(e.sortBy){if("score"===e.sortBy){var n=function(e){return e?"string"==typeof e?parseFloat(e):e:-1};if(n(a[e.sortBy])>n(s[e.sortBy]))return -1;if(n(a[e.sortBy])<n(s[e.sortBy]))return 1}if("difficulty"===e.sortBy){var t=function(e){return e||-1};if(t(a[e.sortBy])>t(s[e.sortBy]))return -1;if(t(a[e.sortBy])<t(s[e.sortBy]))return 1}if("characters"===e.sortBy){var i=function(e){return e?e.split(",").length:-1};if(i(a[e.sortBy])>i(s[e.sortBy]))return -1;if(i(a[e.sortBy])<i(s[e.sortBy]))return 1}if("created"===e.sortBy){if(a.submission[e.sortBy]<s.submission[e.sortBy])return -1;if(a.submission[e.sortBy]>s.submission[e.sortBy])return 1}else{if(a[e.sortBy]<s[e.sortBy])return -1;if(a[e.sortBy]>s[e.sortBy])return 1}}return 0}),(0,o.useEffect)(function(){setTimeout(function(){r(e.leaderboard),setTimeout(function(){var e=function(e){for(var s=a[e],n=[];null!==(s=s.previousElementSibling);)if(s.classList.contains("leadboard-row")&&!s.classList.contains("leadboard-row-closed")&&"false"===s.getAttribute("data-own"))n.unshift(s);else if("true"===s.getAttribute("data-own"))break;var t=0;n.splice(0,Math.min(8,n.length)),a[e].dataset.hiddenItems=t+"",n.forEach(function(s){s.classList.add("hidden"),t++,a[e].dataset.hiddenItems=t+""})};document.querySelectorAll(".leadboard-table-wrapper .leadboard-row-closed").forEach(function(e){e.remove()});for(var a=document.querySelectorAll('.leadboard-table-wrapper .leadboard-row[data-own="true"]'),s=0;s<a.length;s++)e(s);a.forEach(function(e){parseInt(e.dataset.hiddenItems||"0")>0&&e.insertAdjacentHTML("beforebegin",'<div class="leadboard-row-closed"><div class="leadboard-item"><span> . . . </span><button class="show-more-btn">Show more</button><span> . . . </span></div></div>')}),document.querySelectorAll(".leadboard-table-wrapper .leadboard-row-closed .show-more-btn").forEach(function(e){e.addEventListener("click",function(){var a,s=[],n=null===(a=e.parentElement)||void 0===a?void 0:a.parentElement;if(n)for(;null!==(n=n.previousElementSibling);)n&&n.classList.contains("leadboard-row")&&n.classList.contains("hidden")&&s.unshift(n);for(var t=s.length,i=0;i<10;i++)if(n=s[i])n.classList.remove("hidden"),t--;else break;if(0===t){for(var r=e.parentElement;r&&!r.classList.contains("leadboard-row-closed");)r=r.parentElement;r&&r.classList.add("hidden")}})})},200)},200)},[e]),(0,l.jsxs)("div",{className:"leadboard-table-wrapper",children:[0!==i.length&&(0,l.jsxs)("div",{className:"leadboard-table-inner",children:[(0,l.jsx)("div",{className:"leadboard-table-heading",children:(0,l.jsxs)("div",{className:"row",children:[(0,l.jsx)("div",{className:"col-5 col-lg-2 flex user",children:(0,l.jsx)("div",{className:"content",children:(0,l.jsx)("h3",{children:"User"})})}),(0,l.jsx)("div",{className:"col-3 col-lg-1 score",children:(0,l.jsx)("h3",{children:"Score"})}),(0,l.jsx)("div",{className:"col-2 col-lg-1 game",children:(0,l.jsx)("h3",{children:"Game"})}),(0,l.jsx)("div",{className:"col-2 col-lg-1 difficulty",children:(0,l.jsx)("h3",{children:"Difficulty"})}),(0,l.jsx)("div",{className:"col-12 col-lg-3 characters d-none d-lg-block",children:(0,l.jsx)("h3",{children:"Characters"})}),(0,l.jsx)("div",{className:"col-12 col-lg-2 created-date d-none d-lg-block",children:(0,l.jsx)("h3",{children:"Date"})})]})}),(0,l.jsx)("div",{className:"leadboard-table-body",children:i.map(function(e,a){return(0,l.jsxs)("div",{className:"leadboard-row","data-rank":e.rank,"data-own":e.own,children:[(0,l.jsx)("div",{className:"item-rank inline-block",children:(0,l.jsx)(u(),{className:"submission-link",href:"/submission/".concat(e.submission.id),children:e.rank<=f.length?f[e.rank-1]:e.rank})}),(0,l.jsx)("div",{className:"leadboard-item",children:(0,l.jsxs)("div",{className:"row",children:[(0,l.jsx)("div",{className:"col-5 col-lg-2 user",children:(0,l.jsx)("div",{className:"content",children:(0,l.jsx)(u(),{className:"name",href:"/profile/".concat(e.submission.user.username),children:e.submission.user.username})})}),(0,l.jsx)("div",{className:"col-3 col-lg-1 score",children:(0,l.jsx)(u(),{className:"submission-link",href:"/submission/".concat(e.submission.id),children:(0,l.jsx)("p",{title:e.score+"",children:e.score})})}),(0,l.jsx)("div",{className:"col-2 col-lg-1 game",children:(0,l.jsx)(u(),{className:"submission-link",href:"/submission/".concat(e.submission.id),children:(0,l.jsx)("p",{title:e.game||"",children:e.game})})}),(0,l.jsx)("div",{className:"col-2 col-lg-1 difficulty",children:(0,l.jsx)(u(),{className:"submission-link",href:"/submission/".concat(e.submission.id),children:(0,l.jsx)("p",{title:c.n9[null!=e.difficulty?e.difficulty:3]||"",children:c.n9[null!=e.difficulty?e.difficulty:3]})})}),(0,l.jsx)("div",{className:"col-12 col-lg-3 characters d-none d-lg-block",children:(0,l.jsx)(u(),{className:"submission-link",href:"/submission/".concat(e.submission.id),children:(0,l.jsx)("p",{title:e.characters||"",children:e.characters})})}),(0,l.jsx)("div",{className:"col-12 col-lg-2 created-date d-none d-lg-block",children:(0,l.jsx)(u(),{className:"submission-link",href:"/submission/".concat(e.submission.id),children:(0,l.jsx)("p",{title:e.submission.created.toDateString(),children:e.submission.created.toDateString()})})}),(0,l.jsx)("div",{className:"col-12 col-lg-2 submission d-none d-lg-block",children:(0,l.jsx)(u(),{className:"submission-link-btn",href:"/submission/".concat(e.submission.id),children:(0,l.jsxs)("p",{children:[(0,l.jsx)("span",{className:"pr-1",children:"View Submission"}),(0,l.jsx)(m.G,{icon:h._tD})]})})})]})},a)]},a)})}),e.pagination&&e.pagination>1&&(0,l.jsx)(A,{currentPage:s,totalPages:e.pagination,maxPages:5,onPageChange:function(e){e>a?e=a:e<1&&(e=1);var s=new CustomEvent("change-leaderboard-page-event",{detail:{page:e}});document.dispatchEvent(s)}})]}),!i.length&&e.showEmptyMessage&&(0,l.jsx)("div",{className:"leadboard-table-no-items",children:(0,l.jsx)("p",{children:"There are no participants yet"})})]})}var p=s(12843),g=s(9253),x=s(12002),v=s(16e3),j=s(3023),w=s(75358),N=s(97187),y=(0,x.z)({chartName:"BarChart",GraphicalChild:v.$,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:j.K},{axisType:"yAxis",AxisComp:w.B}],formatAxisMap:N.t9}),k=s(2763),S=(0,i.Z)(c.bs);function C(e){var a={},s=(0,t.Z)((0,o.useState)(),2),n=s[0],i=s[1];return(0,o.useEffect)(function(){e.leaderboard.forEach(function(e){a[e.game]||(a[e.game]=0),a[e.game]+=1}),i(S.map(function(e){return{id:e.id,name:e.name,value:a[e.id]||0}}))},[e]),(0,l.jsx)("div",{className:e.hideYLabels?"stats-chart-wrapper hide-y-labels":"stats-chart-wrapper",style:{width:"100%",height:(e.height||400)+"px",backgroundColor:e.backgroundColor||"transparent",userSelect:"none",WebkitUserSelect:"none"},children:(0,l.jsx)(g.h,{children:(0,l.jsxs)(y,{width:e.width||800,height:e.height||400,data:n,margin:{top:20,right:20,bottom:20,left:20},layout:e.layout,children:["vertical"===e.layout&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(j.K,{type:"number"}),(0,l.jsx)(w.B,{dataKey:"name",type:"category",width:e.labelYWidth}),(0,l.jsxs)(v.$,{dataKey:"value",fill:e.fillColor||"#99000073",color:"#fff",children:[e.showValue&&(0,l.jsx)(k.e,{position:e.showLabel?"left":"right",dataKey:"value"}),e.showLabel&&(0,l.jsx)(k.e,{position:"insideLeft",dataKey:"name"})]})]}),"horizontal"===e.layout&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(j.K,{dataKey:"name",type:"category"}),(0,l.jsx)(w.B,{type:"number"}),(0,l.jsxs)(v.$,{dataKey:"value",fill:e.fillColor||"#99000073",color:"#fff",children:[e.showValue&&(0,l.jsx)(k.e,{position:"top",dataKey:"value"}),e.showLabel&&(0,l.jsx)(k.e,{position:"inside",dataKey:"name"})]})]})]})})})}var E={superWide:s(96879),hd:s(80258),tablet:s(95016),mobile:s(55041)},B=[{name:"All Games",id:"",position:0}].concat((0,i.Z)(c.bs)),L=[{name:"Rank",id:"rank"},{name:"Difficulty",id:"difficulty"},{name:"Characters",id:"characters"},{name:"Score",id:"score"},{name:"Date",id:"created"}],U=[{name:"Total Submission",id:"submissions"},{name:"Game Completed",id:"games_completed"},{name:"Total rewards",id:"total_rewards"}];function M(e){var a=(0,t.Z)((0,o.useState)("submissions"),2),s=a[0],n=a[1];return(0,l.jsx)("section",{className:"section","data-path":"/stats",id:"stats",children:(0,l.jsxs)("div",{className:"submission-stats-wrapper",children:[(0,l.jsxs)("h2",{className:"headline",children:["Submissions Stats",(0,l.jsx)("span",{className:"line"})]}),(0,l.jsx)("div",{className:"submission-stats-mode",children:U.map(function(e,a){return(0,l.jsx)("div",{className:"leadboard-filter",children:(0,l.jsxs)("label",{className:s===e.id?"active":"",children:[(0,l.jsx)("input",{defaultChecked:0==a,type:"radio",id:e.id,name:"statsMode",value:e.id,onChange:function(){return n(e.id)}}),e.name]})},a)})}),(0,l.jsx)("div",{className:"desktop-chart",children:(0,l.jsx)(C,{leaderboard:e.leaderboard,layout:"horizontal",showValue:!0})}),(0,l.jsx)("div",{className:"tablet-chart",children:(0,l.jsx)(C,{leaderboard:e.leaderboard,layout:"vertical",labelYWidth:250,showValue:!0})}),(0,l.jsx)("div",{className:"mobile-chart",children:(0,l.jsx)(C,{leaderboard:e.leaderboard,layout:"vertical",labelYWidth:1,hideYLabels:!0,showLabel:!0,showValue:!0})})]})})}var D=100;function R(e){var a=o.useContext(c.Il),s=(0,t.Z)((0,o.useState)(""),2),i=s[0],d=s[1],u=(0,t.Z)((0,o.useState)("All Games"),2),h=u[0],m=u[1],A=(0,t.Z)((0,o.useState)("rank"),2),f=A[0],g=A[1],x=(0,t.Z)((0,o.useState)("Rank"),2),v=x[0],j=x[1],w=(0,t.Z)((0,o.useState)(100),2),N=w[0],y=w[1],k=(0,t.Z)((0,o.useState)(!1),2),S=k[0],C=k[1],U=(0,t.Z)((0,o.useState)(!1),2),R=U[0],I=U[1],Z=(0,t.Z)((0,o.useState)(!1),2),P=Z[0],V=Z[1],K=(0,t.Z)((0,o.useState)(1),2),T=K[0],F=K[1],G=(0,t.Z)((0,o.useState)(1),2),z=G[0],O=G[1],W=(0,t.Z)((0,o.useState)([]),2),_=W[0],Y=W[1],X=(0,t.Z)((0,o.useState)(null),2),H=X[0],J=X[1],Q=(0,t.Z)((0,o.useState)(!1),2),q=Q[0],$=Q[1],ee=p.Z.getResponsiveImageUrl,ea=[];(0,o.useEffect)(function(){return J(ee(E).src),window.addEventListener("resize",function(){return J(ee(E).src)}),function(){return window.removeEventListener("resize",function(){return J(ee(E).src)})}},[]),(0,o.useEffect)(function(){var s;(s=(0,n.Z)(function(){var s,n,t,l,o,c;return(0,r.__generator)(this,function(r){switch(r.label){case 0:if(p.Z.showSpinner(),!a.api)return[2];return[4,a.api.api().v1alpha1LeaderboardList({game:i})];case 1:if(0===(ea=Array.from(s=r.sent())).length&&$(!0),t=(n=new URLSearchParams(window.location.search)).get("pag"),l=n.get("items"),o=1,t)try{o=parseInt(t)}catch(e){}if(l)try{D=parseInt(l)}catch(e){}return y(D),e.maxNumber&&(ea.length=Math.min(s.length,e.maxNumber),s.length=Math.min(s.length,e.maxNumber)),o>(c=Math.ceil(s.length/D))&&en(o=c),F(c),O(o),Y(et(o)),p.Z.hideSpinner(2e3),[2]}})}),function(){return s.apply(this,arguments)})()},[i,N,a.api]),(0,o.useEffect)(function(){return document.addEventListener("click",ei),function(){return document.removeEventListener("click",ei)}},[]),(0,o.useEffect)(function(){return document.addEventListener("change-leaderboard-page-event",es),function(){return document.removeEventListener("change-leaderboard-page-event",es)}},[]);var es=function(e){var a=e.detail.page;en(a),Y(et(a)),O(a)},en=function(e){var a=new URLSearchParams(window.location.search);a.set("pag",e.toString());var s=window.location.pathname+"?"+a.toString();window.history.pushState({path:s},"",s)},et=function(e){var a=(e-1)*D,s=Math.min(ea.length,a+D);return Array.from(ea).slice(a,s)},ei=function(e){var a=e.target;if(a&&a.classList.contains("dropdown"))er(a);else{var s=a.closest(".dropdown");s?er(s):er(a)}},er=function(e){switch(e.dataset.item){case"filters":C(!1),V(!1);break;case"orderBy":C(!1),I(!1);break;case"itemNumber":I(!1),V(!1);break;default:C(!1),V(!1),I(!1)}},el=function(e){y(D=e),C(!1);var a=new URLSearchParams(window.location.search);a.set("items",D.toString());var s=window.location.pathname+"?"+a.toString();window.history.pushState({path:s},"",s)},eo=function(e){d(e.id),m(e.name)},ec=function(e){g(e.id),j(e.name)};return(0,l.jsx)("section",{className:"section","data-path":"/leaderboard",id:"leaderboard",children:(0,l.jsx)("div",{className:(e.showStats?"has-stats":"")+"banner-block banner banner-bg leadboard-banner",style:{backgroundImage:e.showBg?"url(".concat(H,")"):"none"},children:(0,l.jsx)("div",{className:"container-fluid",children:(0,l.jsx)("div",{className:"overlay-wrapper wow fadeInDown",children:(0,l.jsxs)("div",{className:"container overlay-inner section-height",children:[e.showHeadline&&(0,l.jsxs)("h2",{className:"headline",children:["Leaderboard",(0,l.jsx)("span",{className:"line"})]}),(0,l.jsxs)("div",{className:"leadboard-wrapper",children:[e.showFilter&&(0,l.jsxs)("div",{className:"leadboard-selectors",children:[(0,l.jsxs)("div",{className:"leadboard-filters",children:[(0,l.jsx)("h5",{className:"filters-title",children:"Filters"}),(0,l.jsx)("div",{className:"leaderboard-games-filters",children:B.map(function(e,a){return(0,l.jsx)("div",{className:"leadboard-filter",children:(0,l.jsxs)("label",{className:i===e.id?"active":"",children:[(0,l.jsx)("input",{defaultChecked:0==a,type:"radio",id:e.id,name:"games",value:e.id,onChange:function(){return eo(e)}}),e.name]})},a)})}),(0,l.jsx)("div",{className:"mobile-filter-selector",children:(0,l.jsxs)("div",{className:"dropdown","data-item":"filters",children:[(0,l.jsx)("button",{className:"btn dropdown-toggle",type:"button","aria-haspopup":"true","aria-expanded":"false",onClick:function(){return I(!0)},children:(0,l.jsx)("span",{children:h})}),(0,l.jsx)("div",{className:(R?"show ":"")+"dropdown-menu",children:B.map(function(e,a){return(0,l.jsx)("li",{className:"dropdown-item",onClick:function(){return eo(e)},children:e.name},a)})})]})})]}),(0,l.jsxs)("div",{className:"leadboard-order-by",children:[(0,l.jsx)("h5",{className:"order-by-title",children:"Order by"}),(0,l.jsx)("div",{className:"leaderboard-order-by",children:L.map(function(e,a){return(0,l.jsx)("div",{className:"leadboard-filter",children:(0,l.jsxs)("label",{className:f===e.id?"active":"",children:[(0,l.jsx)("input",{defaultChecked:0==a,type:"radio",id:e.id,name:"sort",value:e.id,onChange:function(){return ec(e)}}),e.name]})},a)})}),(0,l.jsx)("div",{className:"mobile-order-by-selector",children:(0,l.jsxs)("div",{className:"dropdown","data-item":"orderBy",children:[(0,l.jsx)("button",{className:"btn dropdown-toggle",type:"button","aria-haspopup":"true","aria-expanded":"false",onClick:function(){return V(!0)},children:(0,l.jsx)("span",{children:v})}),(0,l.jsx)("div",{className:(P?"show ":"")+"dropdown-menu",children:L.map(function(e,a){return(0,l.jsx)("li",{className:"dropdown-item",onClick:function(){return ec(e)},children:e.name},a)})})]})})]}),(0,l.jsxs)("div",{className:"show-items-selector",children:[(0,l.jsx)("label",{children:"Items:"}),(0,l.jsxs)("div",{className:"dropdown","data-item":"itemNumber",children:[(0,l.jsx)("button",{className:"btn dropdown-toggle",type:"button","aria-haspopup":"true","aria-expanded":"false",onClick:function(){return C(!0)},children:(0,l.jsx)("span",{children:N})}),(0,l.jsxs)("div",{className:(S?"show ":"")+"dropdown-menu",children:[(0,l.jsx)("li",{className:"dropdown-item",onClick:function(){return el(10)},children:"10"}),(0,l.jsx)("li",{className:"dropdown-item",onClick:function(){return el(50)},children:"50"}),(0,l.jsx)("li",{className:"dropdown-item",onClick:function(){return el(100)},children:"100"}),(0,l.jsx)("li",{className:"dropdown-item",onClick:function(){return el(1e3)},children:"1000"})]})]})]})]}),(0,l.jsx)(b,{leaderboard:_,sortBy:f,pagination:T,page:z,showEmptyMessage:q})]}),e.showStats&&(0,l.jsx)(M,{leaderboard:_})]})})})})})}}}]);