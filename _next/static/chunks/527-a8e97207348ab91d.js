"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[527],{56113:function(e,a,s){s.r(a),a.default={src:"/_next/static/media/Profile_Entrance.fc0c91a0.png",height:539,width:460,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAcAAAAICAMAAAAC2hU0AAAAHlBMVEUODhIVFRoJCQ0yMjccHCE8PEKBgYZtbXOOjpSXl52vXUWlAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAMUlEQVR4nC3EyQ3AMAwEsRlJ66P/ho0A4YPwU+orzdDhbOI+3FXtuqTNdBgVh7Gq8AEQuQCV8INppgAAAABJRU5ErkJggg==",blurWidth:7,blurHeight:8}},41737:function(e,a,s){s.r(a),a.default={src:"/_next/static/media/Profile_Entrance.d40d33ec.png",height:2116,width:768,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAICAMAAAALMbVOAAAACVBMVEUKCg4hISYwMDZWLWL0AAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAEklEQVR4nGNgwAGYmJgYGBkZAQBKAApzpMFSAAAAAElFTkSuQmCC",blurWidth:3,blurHeight:8}},12664:function(e,a,s){s.r(a),a.default={src:"/_next/static/media/Profile_Entrance.a9e4b289.png",height:2160,width:1920,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAcAAAAICAMAAAAC2hU0AAAACVBMVEUICA0TExczMzgfAUWLAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAHElEQVR4nGNgwAEYGWE0IwOECaUZmZiYIAyQFAABmAAV9XUYCQAAAABJRU5ErkJggg==",blurWidth:7,blurHeight:8}},50321:function(e,a,s){s.r(a),a.default={src:"/_next/static/media/Profile_Entrance.160d00f7.png",height:2160,width:2560,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAHCAMAAAACh/xsAAAADFBMVEUICAwXFxwNDRIuLjO1oeo4AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAJUlEQVR4nGWHQQoAMAyD1P7/z6ODnRZBDHzrhVoF14s4I+5R4QADtAArBKFuIwAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:7}},99977:function(e,a){a.Z={src:"/_next/static/media/user.86c070f9.svg",height:50,width:50,blurWidth:0,blurHeight:0}},78316:function(e,a,s){s.d(a,{Z:function(){return n}});var i=s(85893);s(67294);var r=s(99977);function n(e){if(e.id){var a="https://gravatar.com/avatar/{id}?s=400&d=robohash&r=r".replace("{id}",e.id);return(0,i.jsx)("img",{src:a,alt:"Profile image"})}return(0,i.jsx)("img",{src:r.Z,alt:"Profile image"})}},63527:function(e,a,s){s.d(a,{Z:function(){return em}});var i,r,n=s(47568),t=s(828),l=s(20414),c=s(85893),d=s(96584),o=s(59417),b=s(67294),u=s(67814),m=s(47563);function h(){var e,a=(0,t.Z)((0,b.useState)(!1),2),s=a[0],i=a[1],r=(0,t.Z)((0,b.useState)(!1),2),h=r[0],v=r[1],f=(0,t.Z)((0,b.useState)(),2),x=f[0],p=f[1],j=b.useContext(d.Il),g=!1;(0,b.useEffect)(function(){var e;(e=(0,n.Z)(function(){return(0,l.__generator)(this,function(e){switch(e.label){case 0:return[4,j.api.api().v1alpha1TokenRetrieve()];case 1:return p(e.sent()),[2]}})}),function(){return e.apply(this,arguments)})()},[null==x?void 0:x.token,g]);var N=(e=(0,n.Z)(function(e){return(0,l.__generator)(this,function(a){return e.preventDefault(),j.api.api().v1alpha1TokenRotateCreate().catch(function(e){console.log("error",e)}),g=!0,p(void 0),v(!1),[2]})}),function(a){return e.apply(this,arguments)});return x?(0,c.jsxs)("div",{className:"tokens-wrapper",children:[(0,c.jsxs)("h5",{className:"headline",children:["Your Active Sections",(0,c.jsx)("span",{className:"line"})]}),(0,c.jsxs)("div",{className:"token-table",children:[(0,c.jsx)("div",{className:"token-item",children:(0,c.jsxs)("div",{className:"row no-gutters",children:[x&&null!=x.token&&(0,c.jsx)("div",{className:"col-12 col-md-3",children:(0,c.jsx)("strong",{children:"Token"})}),(0,c.jsxs)("div",{className:"col-12 col-md-9",children:[x&&null!=x.token&&(0,c.jsx)("input",{className:"form-input",readOnly:!0,disabled:!0,value:s?x.token:"***********"}),x&&null!=x.token||"No token found"]})]})}),x&&null!=x.token&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("div",{className:"show-hide-token-wrapper",children:(0,c.jsxs)("button",{className:"btn-show-hide",onClick:function(){i(!s)},children:[s&&(0,c.jsx)(u.G,{icon:o.Mdf,className:"icon-eye"}),s||(0,c.jsx)(u.G,{icon:o.Aq,className:"icon-eye-hide"})]})}),(0,c.jsx)("button",{className:"btn-copy-token",onClick:function(){x&&navigator.clipboard.writeText(x.token)},children:"Copy to clipboard"})]}),(0,c.jsx)("div",{className:"button-wrapper",children:(0,c.jsx)("button",{className:"btn-token",onClick:function(){return v(!0)},children:"Rotate Token"})})]}),(0,c.jsxs)(m.Z,{id:"rotate-token-confirm",show:h,size:"lg",centered:!0,backdrop:"static",children:[(0,c.jsx)(m.Z.Header,{children:(0,c.jsx)(m.Z.Title,{children:"Rotate Token confirm"})}),(0,c.jsx)(m.Z.Body,{children:(0,c.jsx)("div",{className:"text",children:"Are you sure you want to rotate the token?"})}),(0,c.jsxs)(m.Z.Footer,{children:[(0,c.jsx)("button",{className:"btn-confirm",onClick:N,children:"Confirm"}),(0,c.jsx)("button",{className:"btn-cancel",onClick:function(){return v(!1)},children:"cancel"})]})]})]}):(0,c.jsx)("div",{children:"Loading..."})}var v=s(36305),f=s(38782),x=s.n(f),p=[{name:"All Games",id:"",position:0}].concat((0,v.Z)(d.bs));function j(e){var a=b.useContext(d.Il),s=(0,t.Z)((0,b.useState)(!1),2),i=s[0],r=s[1],m=(0,t.Z)((0,b.useState)([]),2),h=m[0],f=m[1],j=(0,t.Z)((0,b.useState)(""),2),g=j[0],N=j[1],A=(0,t.Z)((0,b.useState)("All Games"),2),w=A[0],y=A[1];(0,b.useEffect)(function(){var s;(s=(0,n.Z)(function(){return(0,l.__generator)(this,function(s){switch(s.label){case 0:return[4,a.api.api().v1alpha1UsersAchievementsList({userId:e.user_id})];case 1:return f(s.sent()),[2]}})}),function(){return s.apply(this,arguments)})()},[e.user_id]),(0,b.useEffect)(function(){return document.addEventListener("click",Z),function(){return document.removeEventListener("click",Z)}},[]);var Z=function(e){var a=e.target;a&&a.classList.contains("achievement-games-filters-dropdown")||a.closest(".achievement-games-filters-dropdown")||r(!1)},C=new Map,_=!0,k=!1,E=void 0;try{for(var S,M=h[Symbol.iterator]();!(_=(S=M.next()).done);_=!0){var I,Y,L=S.value;C.get(L.name)||C.set(L.name,[]),(null===(I=C.get(L.name))||void 0===I?void 0:I.includes(L.level))||null===(Y=C.get(L.name))||void 0===Y||Y.push(L.level)}}catch(e){k=!0,E=e}finally{try{_||null==M.return||M.return()}finally{if(k)throw E}}var D=new Map,P=!0,G=!1,U=void 0;try{for(var B,z=(0,v.Z)(d.iL).reverse()[Symbol.iterator]();!(P=(B=z.next()).done);P=!0){var R=B.value,F=!1,O=!0,T=!1,V=void 0;try{for(var q,H=h[Symbol.iterator]();!(O=(q=H.next()).done);O=!0){var W=q.value;if(W.name==R.name&&(!g||W.game==g)){F=!0;var K=D.get(R.name);(null==K?void 0:K.Achievement)?(K.Achievement.level=Math.max(K.Achievement.level,W.level),K.Image="/images/badges/".concat(K.Config.image,"_").concat(K.Achievement.level-1,".png")):D.set(R.name,{Config:R,Achievement:W,Image:"/images/badges/".concat(R.image,"_").concat(W.level-1,".png")})}}}catch(e){T=!0,V=e}finally{try{O||null==H.return||H.return()}finally{if(T)throw V}}F||D.set(R.name,{Config:R,Achievement:null,Image:"/images/badges/".concat(R.image,".png")})}}catch(e){G=!0,U=e}finally{try{P||null==z.return||z.return()}finally{if(G)throw U}}var J=function(e){N(e.id),y(e.name)};return(0,c.jsxs)("div",{children:[(0,c.jsxs)("div",{className:"achievement-selectors",children:[(0,c.jsx)("div",{className:"achievement-games-filters",children:p.map(function(e,a){return(0,c.jsx)("div",{className:"leadboard-filter",children:(0,c.jsxs)("label",{className:g===e.id?"active":"",children:[(0,c.jsx)("input",{defaultChecked:0==a,type:"radio",id:e.id,name:"games",value:e.id,onChange:function(){return J(e)}}),e.name]})},a)})}),(0,c.jsxs)("div",{className:"mobile-filter-selector",children:[(0,c.jsx)("h5",{className:"filters-title",children:"Filters"}),(0,c.jsxs)("div",{className:"dropdown achievement-games-filters-dropdown","data-item":"filters",children:[(0,c.jsx)("button",{className:"btn dropdown-toggle",type:"button","aria-haspopup":"true","aria-expanded":"false",onClick:function(){return r(!0)},children:(0,c.jsx)("span",{children:w})}),(0,c.jsx)("div",{className:(i?"show ":"")+"dropdown-menu",children:p.map(function(e,a){return(0,c.jsx)("li",{className:"dropdown-item",onClick:function(){return J(e)},children:e.name},a)})})]})]})]}),(0,c.jsx)("div",{className:"achievement-list",children:Array.from(D.values()).map(function(e){return(0,c.jsxs)("div",{className:"s-badge",title:e.Config.description,children:[(0,c.jsx)(x(),{src:e.Image,className:"w-20 h-20",height:120,width:120,alt:e.Config.description}),(0,c.jsx)("span",{className:"s-badge-title",children:e.Config.name}),(0,c.jsx)(u.G,{className:"s-badge-info-icon",icon:o.sqG}),(0,c.jsxs)("div",{className:"s-badge-info",children:[(0,c.jsxs)("div",{className:"s-badge-main",children:[(0,c.jsx)(x(),{src:e.Image,className:"w-30 h-30",height:120,width:120,alt:e.Config.description}),(0,c.jsxs)("div",{className:"s-badge-info-title",children:[(0,c.jsx)(u.G,{icon:o.Tab}),(0,c.jsx)("span",{children:e.Config.name}),(0,c.jsx)(u.G,{icon:o.Tab})]}),(0,c.jsx)("div",{className:"s-badge-info-text",children:e.Config.description})]}),(0,c.jsx)("div",{className:"s-badge-tiers",children:e.Config.tiers.map(function(a,s){var i,r=C.get(e.Config.name)&&(null===(i=C.get(e.Config.name))||void 0===i?void 0:i.includes(s+1));return(0,c.jsxs)("div",{className:"s-badge-tier",children:[(0,c.jsxs)("div",{className:"s-badge-image-wrapper",children:[(0,c.jsx)(x(),{src:"/images/badges/".concat(e.Config.image,"_").concat(s,".png"),className:"s-badge-tier-image",height:120,width:120,alt:e.Config.description}),r&&(0,c.jsx)(u.G,{className:"has-achievement",icon:o.f8k})]}),(0,c.jsx)("div",{className:"s-badge-tier-text",children:a})]},s)})})]})]},e.Config.name)})})]})}var g=s(41664),N=s.n(g),A=s(12843),w=s(21260),y=[];function Z(e){var a=(0,t.Z)((0,b.useState)({evaluated:!0,processing:!0,failed:!0,all:!0}),2),s=a[0],i=a[1],r=(0,t.Z)((0,b.useState)(!1),2),m=r[0],h=r[1],f=(0,t.Z)((0,b.useState)(!1),2),x=f[0],p=f[1],j=(0,t.Z)((0,b.useState)(),2),g=j[0],Z=j[1],C=b.useContext(d.Il),_=function(e,a){return e.created>a.created?-1:1};(0,b.useEffect)(function(){var a;(a=(0,n.Z)(function(){var a,s;return(0,l.__generator)(this,function(r){switch(r.label){case 0:return[4,C.api.api().v1alpha1UsersSubmissionsList({userId:e.user_id})];case 1:return 0===(y=Array.from(a=r.sent())).length&&h(!0),a.sort(_),(s=I())&&i(s),Z(Array.from(a)),[2]}})}),function(){return a.apply(this,arguments)})()},[e.user_id]);var k=function(e){var a=[];if(e){var s=Object.keys(e).filter(function(a){return e[a]>0}),i=!0,r=!1,n=void 0;try{for(var t,l=(0,v.Z)(d.iL).reverse()[Symbol.iterator]();!(i=(t=l.next()).done);i=!0){var c=t.value,o=!0,b=!1,u=void 0;try{for(var m,h=s[Symbol.iterator]();!(o=(m=h.next()).done);o=!0){var f=m.value;f==c.name&&a.push(f)}}catch(e){b=!0,u=e}finally{try{o||null==h.return||h.return()}finally{if(b)throw u}}}}catch(e){r=!0,n=e}finally{try{i||null==l.return||l.return()}finally{if(r)throw n}}}return a};(0,b.useEffect)(function(){return document.addEventListener("click",E),function(){return document.removeEventListener("click",E)}},[]);var E=function(e){var a=e.target;a&&a.classList.contains("submissions-table-settings-dropdown")||a.closest(".submissions-table-settings-dropdown")||p(!1)},S=function(e,a,s){var r=Object.assign({},e);s.checked?"all"===a?r={evaluated:!0,processing:!0,failed:!0,all:!0}:(r[a]=!0,r.evaluated&&r.processing&&r.failed&&(r.all=!0)):("all"===a&&(r={evaluated:!1,processing:!1,failed:!1,all:!1}),r.all=!1,r[a]=!1),M(r),i(r)},M=function(e){localStorage.setItem("submissionStatus",JSON.stringify(e))},I=function(){var e=localStorage.getItem("submissionStatus");return e?JSON.parse(e):null},Y=function(e,a){return e&&e.toLocaleLowerCase().includes(a.toLocaleLowerCase())};return(0,c.jsxs)("div",{className:"submissions-table-wrapper",children:[(0,c.jsxs)("div",{className:"submissions-table-top",children:[(0,c.jsx)("div",{className:"submissions-table-search",children:(0,c.jsx)("input",{type:"search",className:"form-input",placeholder:"Search Submission",onChange:function(e){var a=e.target.value;Z(Array.from(y).filter(function(e){var s=d.n9[A.Z.isNotNull(e.difficulty)?e.difficulty||0:3],i=A.Z.getSubmissionStatus(e.status);return Y(e.id+"",a)||Y(e.score+"",a)||Y(e.game,a)||Y(s,a)||Y(e.image,a)||Y(e.created.toDateString(),a)||Y(i,a)||Y(e.characters,a)}))}})}),(0,c.jsx)("div",{className:"submissions-table-settings",children:(0,c.jsxs)("div",{className:"dropdown submissions-table-settings-dropdown","data-item":"filters",children:[(0,c.jsx)("button",{className:"btn dropdown-toggle",type:"button","aria-haspopup":"true","aria-expanded":"false",onClick:function(){return p(!0)},children:(0,c.jsx)(u.G,{icon:o.G_j,onClick:function(){return p(!0)}})}),(0,c.jsxs)("div",{className:(x?"show ":"")+"dropdown-menu",children:[(0,c.jsxs)("li",{className:"dropdown-item",children:[(0,c.jsx)("input",{type:"checkbox",checked:s.evaluated,"data-id":"evaluated",onChange:function(e){return S(s,"evaluated",e.target)}}),(0,c.jsx)("span",{className:"checkbox-text",children:"Evaluated"})]}),(0,c.jsxs)("li",{className:"dropdown-item",children:[(0,c.jsx)("input",{type:"checkbox",checked:s.processing,"data-id":"processing",onChange:function(e){return S(s,"processing",e.target)}}),(0,c.jsx)("span",{className:"checkbox-text",children:"Processing"})]}),(0,c.jsxs)("li",{className:"dropdown-item",children:[(0,c.jsx)("input",{type:"checkbox",checked:s.failed,"data-id":"failed",onChange:function(e){return S(s,"failed",e.target)}}),(0,c.jsx)("span",{className:"checkbox-text",children:"Failed"})]}),(0,c.jsxs)("li",{className:"dropdown-item",children:[(0,c.jsx)("input",{type:"checkbox",checked:s.all,"data-id":"all",onChange:function(e){return S(s,"all",e.target)}}),(0,c.jsx)("span",{className:"checkbox-text",children:"All"})]})]})]})})]}),g&&(null==g?void 0:g.length)>0&&(0,c.jsxs)("div",{className:"submissions-table-inner",children:[(0,c.jsx)("div",{className:"submissions-table-heading",children:(0,c.jsxs)("div",{className:"row d-flex",children:[(0,c.jsx)("div",{className:"col-9 col-xl-4",children:(0,c.jsxs)("div",{className:"row",children:[(0,c.jsx)("div",{className:"col-2 flex id",children:(0,c.jsx)("h3",{children:"ID"})}),(0,c.jsx)("div",{className:"col-3 flex game",children:(0,c.jsx)("h3",{children:"Game"})}),(0,c.jsx)("div",{className:"col-4 score",children:(0,c.jsx)("h3",{children:"Score"})}),(0,c.jsx)("div",{className:"col-3 difficulty",children:(0,c.jsx)("h3",{children:"Difficulty"})})]})}),(0,c.jsx)("div",{className:"col-12 d-none d-xl-block col-xl-6",children:(0,c.jsxs)("div",{className:"row",children:[(0,c.jsx)("div",{className:"col-5 agent",children:(0,c.jsx)("h3",{children:"Agent"})}),(0,c.jsx)("div",{className:"col-4 date",children:(0,c.jsx)("h3",{children:"Date"})}),(0,c.jsx)("div",{className:"col-3 achievements",children:(0,c.jsx)("h3",{children:"Achievements"})})]})}),(0,c.jsx)("div",{className:"col-3 col-xl-2 status text-right",children:(0,c.jsx)("h3",{children:"Status"})})]})}),(0,c.jsx)("div",{className:"submissions-table-body",children:null==g?void 0:g.map(function(e,a){var i,r=A.Z.getSubmissionStatus(e.status);if(e.status&&s[r])return(0,c.jsx)("div",{className:"submissions-row",children:(0,c.jsx)("div",{className:"submissions-item",children:(0,c.jsx)(N(),{href:"/submission/".concat(e.id),children:(0,c.jsxs)("div",{className:"row",children:[(0,c.jsx)("div",{className:"col-9 col-xl-4",children:(0,c.jsxs)("div",{className:"row",children:[(0,c.jsx)("div",{className:"col-2 id",children:(0,c.jsx)("span",{children:e.id})}),(0,c.jsx)("div",{className:"col-3 game",children:(0,c.jsx)("span",{children:e.game})}),(0,c.jsx)("div",{className:"col-4 score",children:(0,c.jsx)("span",{children:e.score})}),(0,c.jsx)("div",{className:"col-3 difficulty",children:(0,c.jsx)("span",{children:d.n9[A.Z.isNotNull(e.difficulty)?e.difficulty||0:3]})})]})}),(0,c.jsx)("div",{className:"col-12 d-none d-xl-block col-xl-6",children:(0,c.jsxs)("div",{className:"row",children:[(0,c.jsx)("div",{className:"col-5 agent",children:(0,c.jsx)("span",{children:e.image})}),(0,c.jsx)("div",{className:"col-4 date",children:(0,c.jsx)("span",{children:e.created.toDateString()})}),(0,c.jsx)("div",{className:"col-3 achievements",children:(0,c.jsx)("span",{children:k(null==e?void 0:null===(i=e.evaluationResult)||void 0===i?void 0:i.achievements).map(function(e){return(0,c.jsx)(u.G,{className:"p-1",icon:o.Tab},e)})})})]})}),(0,c.jsx)("div",{className:"col-3 col-xl-2 status",children:(0,c.jsx)("div",{className:"text-right",children:A.Z.getSubmissionStatusLabel(r)})})]})})})},a)})})]}),g&&(null==g?void 0:g.length)<=0&&(0,c.jsxs)("div",{className:"submissions-table-no-items",children:[e.isPersonal&&m&&(0,c.jsxs)("div",{className:"text",children:[(0,c.jsx)("p",{children:"There are no submissions yet"}),(0,c.jsx)("p",{children:"Create your first one easily in your preferred shell:"}),(0,c.jsxs)("ul",{children:[(0,c.jsxs)("li",{children:["Installing DIAMBRA command line interface: ",(0,c.jsx)("span",{className:"code",children:"pip install diambra"})]}),(0,c.jsxs)("li",{children:["Submitting our pre-built random agent: ",(0,c.jsx)("span",{className:"code",children:"diambra agent submit diambra/agent-random-1:main"})]})]}),(0,c.jsxs)("p",{children:["Follow our ",(0,c.jsxs)("a",{className:"link",href:w.b.docs,target:"_blank","aria-label":"Documentation",children:["documentation  ",(0,c.jsx)(u.G,{icon:o.eFW})]})]})]}),!e.isPersonal&&m&&(0,c.jsx)("p",{children:"There are no submissions yet"}),!m&&(0,c.jsx)("p",{children:"No submissions match your search"})]})]})}var C=s(93024),_=s(41799),k=s(80967),E=s(81819),S=s(87536),M=s(76733),I=s(73192),Y=s(30381),L=s.n(Y),D=s(5152),P=s.n(D)()(function(){return Promise.all([s.e(554),s.e(21)]).then(s.bind(s,39021))},{loadableGenerated:{webpack:function(){return[39021]}},ssr:!1});function G(e){var a=b.useContext(d.Il),s=(0,t.Z)((0,b.useState)(r.one),2),i=s[0],o=s[1],u=(0,S.cI)(),m=u.register,h=u.handleSubmit,v=u.formState.errors,f=u.setError,x=u.clearErrors;(0,b.useEffect)(function(){p()});var p=function(){var e=document.querySelectorAll(".form input, .form textarea, .form select"),a=function(){Object.keys(v).length&&x()};Array.from(e).forEach(function(e){e.removeEventListener("focus",a,!0),e.addEventListener("focus",a,{passive:!0})})},j=function(){var s=e.profile.email;a.api.auth().authUnregisterCreate({emailResult:{email:s,result:""}}).then(function(e){setTimeout(function(){"success"===e.result&&o(r.two)},1e3)}).catch(function(e){setTimeout(function(){var a,s,i;f("serverError",{type:"server",message:(null===(a=e.response)||void 0===a?void 0:null===(s=a.error)||void 0===s?void 0:null===(i=s.data)||void 0===i?void 0:i.detail)||"An error occurs deleting account."})},2e3)})};return(0,c.jsx)("div",{className:"row",children:(0,c.jsxs)("div",{className:"col-12 mt-2",children:[i===r.one&&(0,c.jsxs)("div",{className:"row",children:[(0,c.jsx)("div",{className:"col-12",children:(0,c.jsx)("div",{className:"description",children:(0,c.jsx)("p",{children:"Remember that if you delete your account, all your progress and stats will be permanently deleted. If one day you want to re-register you will start from scratch."})})}),(0,c.jsx)("div",{className:"col-12 text-center mt-4 mb-2",children:(0,c.jsx)(k.Z,{type:"button",className:"delete-btn",onClick:function(){return j()},children:"Delete Account"})})]}),i===r.two&&(0,c.jsx)("div",{className:"confirm-form-inner",children:(0,c.jsxs)("div",{className:"container",children:[(0,c.jsxs)("div",{className:"description",children:[(0,c.jsxs)("p",{children:["If you are sure you want to delete your account, enter the verification code received in your email box to proceed.",(0,c.jsx)("br",{}),(0,c.jsx)("b",{children:"Remember this operation is irreversible."})]}),(0,c.jsx)("p",{children:"If you don't receive the email, check the spam folder."})]}),(0,c.jsxs)(E.Z,{className:"form confirmForm",onSubmit:h(function(s){var i=e.profile.email,t=s.verificationCode;a.api.auth().authUnregisterConfirmCreate({userUnregisterVerify:{email:i,activationCode:t,result:""}}).then(function(e){setTimeout(function(){"success"===e.result&&(o(r.three),setTimeout(function(){location.reload()},5e3))},1e3)}).catch(function(e){setTimeout((0,n.Z)(function(){var a,s;return(0,l.__generator)(this,function(i){switch(i.label){case 0:return[4,e.response.json()];case 1:return f("serverError",{type:"server",message:(null==(s=i.sent())?void 0:null===(a=s.data)||void 0===a?void 0:a.detail)||"Verify that the verification code is correct and try again."}),[2]}})}),2e3)})}),children:[v.serverError&&v.serverError.message&&(0,c.jsx)("div",{className:"alert error",children:(0,c.jsx)("ul",{children:(0,c.jsx)("li",{children:v.serverError.message.toString()})})}),(0,c.jsxs)("div",{className:"md-form mt-4 mb-4",children:[(0,c.jsxs)(E.Z.Field,{children:[(0,c.jsx)("label",{className:"form-label",children:(0,c.jsx)("span",{className:"text",children:"Verification Code"})}),(0,c.jsx)("input",(0,_.Z)({type:"verificationCode",className:"activation-code form-input w-150 validate",autoComplete:"off"},m("verificationCode",{required:!0,minLength:6,maxLength:8})))]}),v.verificationCode&&(0,c.jsx)("div",{className:"error-message",children:"Please check the Verification Code"})]}),(0,c.jsx)("div",{className:"md-form mb-4 text-right",children:(0,c.jsx)(k.Z,{type:"submit",className:"modal-btn form-btn",children:"Continue"})})]})]})}),i===r.three&&(0,c.jsx)("div",{className:"confirm-form-inner",children:(0,c.jsx)("div",{className:"container mt-5",children:(0,c.jsxs)("div",{className:"description",children:[(0,c.jsx)("p",{className:"sub-title",children:"Your account has been permanently deleted. "}),(0,c.jsx)("p",{children:"Thanks for being one of us. We hope to see you again soon!"})]})})})]})})}function U(e){var a,s,i,n,l,m,h,v,f,x,p,j,g=b.useContext(d.Il),N=(0,t.Z)((0,b.useState)(r.one),2),A=N[0],w=N[1],y=(0,t.Z)((0,b.useState)(!0),2),Z=y[0],C=y[1],Y=(0,t.Z)((0,b.useState)(!0),2),D=Y[0],U=Y[1],B=(0,t.Z)((0,b.useState)(!0),2),z=B[0],R=B[1],F=(0,S.cI)(),O=F.register,T=F.handleSubmit,V=F.formState.errors,q=F.setError,H=F.clearErrors,W=(0,S.cI)(),K=W.register,J=W.formState.errors,Q=W.handleSubmit,X=function(){C(!Z)},$=function(){U(!D)},ee=function(){R(!z)};(0,b.useEffect)(function(){ea()});var ea=function(){var e=document.querySelectorAll(".form input, .form textarea, .form select"),a=function(){Object.keys(V).length&&H()};Array.from(e).forEach(function(e){e.removeEventListener("focus",a,!0),e.addEventListener("focus",a,{passive:!0})})};return(0,c.jsx)("div",{className:"update-profile-form-wrapper",id:"contact-us-form-wrapper",children:(0,c.jsxs)("div",{className:"update-profile-form-inner",children:[A===r.one&&(0,c.jsx)("div",{className:"container",children:(0,c.jsxs)(M.Z,{defaultActiveKey:"tab-profile",role:"tablist",className:"tabs-wrapper",children:[(0,c.jsx)(I.Z,{eventKey:"tab-profile",title:"Edit Profile",children:(0,c.jsx)("div",{className:"row",children:(0,c.jsx)("div",{className:"col-12",children:(0,c.jsxs)(E.Z,{className:"form form-profile editProfileForm",onSubmit:T(function(a){a.biography=document.getElementById("biography-hidden").value;var s,i={userProfile:{id:e.profile.id,username:a.username,email:a.email,firstName:a.firstName,lastName:a.lastName,country:a.country,birthdate:(s=a.birthdate)?L()(s,"YYYY-MM-DD").toDate():null,avatar:"",socials:JSON.stringify({twitter:a.twitter,github:a.github,linkedin:a.linkedin}),biography:a.biography,gravatar:""}};g.api.auth().authEditProfileCreate(i).then(function(){var e=new CustomEvent("edit-profile-modal-close",{});document.dispatchEvent(e)}).catch(function(e){var a,s,i;q("serverError",{type:"server",message:(null===(a=e.response)||void 0===a?void 0:null===(s=a.error)||void 0===s?void 0:null===(i=s.data)||void 0===i?void 0:i.detail)||"An error occurs on profile update."})})}),children:[V.serverError&&V.serverError.message&&(0,c.jsx)("div",{className:"alert error",children:(0,c.jsx)("ul",{children:(0,c.jsx)("li",{children:V.serverError.message.toString()})})}),(0,c.jsxs)("div",{className:"row",children:[(0,c.jsx)("div",{className:"col-12 col-md-6 col-lg-6 col-xl-6",children:(0,c.jsx)("div",{className:"form-group",children:(0,c.jsxs)(E.Z.Field,{children:[(0,c.jsx)("label",{className:"form-label",children:(0,c.jsx)("span",{className:"text",children:"Username"})}),(0,c.jsx)("input",(0,_.Z)({type:"username",className:"form-input",autoComplete:"off",readOnly:!0},O("username",{required:!0,value:(null===(s=e.profile)||void 0===s?void 0:s.username)||""})))]})})}),(0,c.jsx)("div",{className:"col-12 col-md-6 col-lg-6 col-xl-6",children:(0,c.jsx)("div",{className:"form-group",children:(0,c.jsxs)(E.Z.Field,{children:[(0,c.jsx)("label",{className:"form-label",children:(0,c.jsx)("span",{className:"text",children:"Email (private)"})}),(0,c.jsx)("input",(0,_.Z)({type:"email",className:"form-input",autoComplete:"off",readOnly:!0},O("email",{required:!0,pattern:/[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/,value:(null===(i=e.profile)||void 0===i?void 0:i.email)||""})))]})})}),(0,c.jsx)("div",{className:"col-12 col-md-6 col-lg-6 col-xl-6",children:(0,c.jsxs)("div",{className:"form-group",children:[(0,c.jsxs)(E.Z.Field,{children:[(0,c.jsx)("label",{className:"form-label",children:(0,c.jsx)("span",{className:"text",children:"First Name"})}),(0,c.jsx)("input",(0,_.Z)({type:"text",className:"form-input",autoComplete:"off"},O("firstName",{required:!0,value:(null===(n=e.profile)||void 0===n?void 0:n.firstName)||""})))]}),V.firstName&&(0,c.jsx)("div",{className:"error-message",children:" First Name is required "})]})}),(0,c.jsx)("div",{className:"col-12 col-md-6 col-lg-6 col-xl-6",children:(0,c.jsxs)("div",{className:"form-group",children:[(0,c.jsxs)(E.Z.Field,{children:[(0,c.jsx)("label",{className:"form-label",children:(0,c.jsx)("span",{className:"text",children:"Last Name (private)"})}),(0,c.jsx)("input",(0,_.Z)({type:"text",className:"form-input",autoComplete:"off"},O("lastName",{required:!0,value:(null===(l=e.profile)||void 0===l?void 0:l.lastName)||""})))]}),V.lastName&&(0,c.jsx)("div",{className:"error-message",children:" Last Name is required "})]})}),(0,c.jsx)("div",{className:"col-12 col-md-6 col-lg-6 col-xl-6",children:(0,c.jsx)("div",{className:"form-group",children:(0,c.jsxs)(E.Z.Field,{children:[(0,c.jsx)("label",{className:"form-label",children:(0,c.jsx)("span",{className:"text",children:"Birthdate (private)"})}),(0,c.jsx)("input",(0,_.Z)({type:"date",className:"form-input",autoComplete:"off"},O("birthdate",{required:!1,value:(a=null===(m=e.profile)||void 0===m?void 0:m.birthdate)?L()(a).format("YYYY-MM-DD"):""})))]})})}),(0,c.jsx)("div",{className:"col-12 col-md-6 col-lg-6 col-xl-6",children:(0,c.jsx)("div",{className:"form-group",children:(0,c.jsxs)(E.Z.Field,{children:[(0,c.jsx)("label",{className:"form-label",children:(0,c.jsx)("span",{className:"text",children:"Country"})}),(0,c.jsx)("input",(0,_.Z)({type:"text",className:"form-input",autoComplete:"off"},O("country",{required:!1,value:(null===(h=e.profile)||void 0===h?void 0:h.country)||""})))]})})}),(0,c.jsx)("div",{className:"col-12",children:(0,c.jsxs)("div",{className:"form-group",children:[(0,c.jsxs)(E.Z.Field,{children:[(0,c.jsx)("label",{className:"form-label",children:(0,c.jsx)("span",{className:"text",children:"LinkedIn"})}),(0,c.jsx)("input",(0,_.Z)({type:"text",className:"form-input",autoComplete:"off"},O("linkedin",{required:!1,pattern:/(https?:\/\/(?:www\.|(?!www))[a-zA-Z0-9][a-zA-Z0-9-]+[a-zA-Z0-9]\.[^\s]{2,}|www\.[a-zA-Z0-9][a-zA-Z0-9-]+[a-zA-Z0-9]\.[^\s]{2,}|https?:\/\/(?:www\.|(?!www))[a-zA-Z0-9]+\.[^\s]{2,}|www\.[a-zA-Z0-9]+\.[^\s]{2,})$/,value:(null==e?void 0:null===(v=e.socials)||void 0===v?void 0:v.linkedin)||""})))]}),V.linkedin&&(0,c.jsx)("div",{className:"error-message",children:" Must be a valid link "})]})}),(0,c.jsx)("div",{className:"col-12",children:(0,c.jsxs)("div",{className:"form-group",children:[(0,c.jsxs)(E.Z.Field,{children:[(0,c.jsx)("label",{className:"form-label",children:(0,c.jsx)("span",{className:"text",children:"Github"})}),(0,c.jsx)("input",(0,_.Z)({type:"text",className:"form-input",autoComplete:"off"},O("github",{required:!1,pattern:/(https?:\/\/(?:www\.|(?!www))[a-zA-Z0-9][a-zA-Z0-9-]+[a-zA-Z0-9]\.[^\s]{2,}|www\.[a-zA-Z0-9][a-zA-Z0-9-]+[a-zA-Z0-9]\.[^\s]{2,}|https?:\/\/(?:www\.|(?!www))[a-zA-Z0-9]+\.[^\s]{2,}|www\.[a-zA-Z0-9]+\.[^\s]{2,})$/,value:(null==e?void 0:null===(f=e.socials)||void 0===f?void 0:f.github)||""})))]}),V.github&&(0,c.jsx)("div",{className:"error-message",children:" Must be a valid link "})]})}),(0,c.jsx)("div",{className:"col-12",children:(0,c.jsxs)("div",{className:"form-group",children:[(0,c.jsxs)(E.Z.Field,{children:[(0,c.jsx)("label",{className:"form-label",children:(0,c.jsx)("span",{className:"text",children:"Twitter"})}),(0,c.jsx)("input",(0,_.Z)({type:"text",className:"form-input",autoComplete:"off"},O("twitter",{required:!1,pattern:/(https?:\/\/(?:www\.|(?!www))[a-zA-Z0-9][a-zA-Z0-9-]+[a-zA-Z0-9]\.[^\s]{2,}|www\.[a-zA-Z0-9][a-zA-Z0-9-]+[a-zA-Z0-9]\.[^\s]{2,}|https?:\/\/(?:www\.|(?!www))[a-zA-Z0-9]+\.[^\s]{2,}|www\.[a-zA-Z0-9]+\.[^\s]{2,})$/,value:(null==e?void 0:null===(x=e.socials)||void 0===x?void 0:x.twitter)||""})))]}),V.twitter&&(0,c.jsx)("div",{className:"error-message",children:" Must be a valid link "})]})}),(0,c.jsx)("div",{className:"col-12",children:(0,c.jsx)("div",{className:"form-group",children:(0,c.jsxs)(E.Z.Field,{children:[(0,c.jsx)("label",{className:"form-label",children:(0,c.jsx)("span",{className:"text",children:"About me"})}),(0,c.jsx)("input",(0,_.Z)({id:"biography-hidden",type:"hidden"},O("biography",{required:!1,value:(null===(p=e.profile)||void 0===p?void 0:p.biography)||""}))),(0,c.jsx)(P,{name:"biography",value:(null===(j=e.profile)||void 0===j?void 0:j.biography)||"",onChange:function(e){document.getElementById("biography-hidden").value=e}})]})})}),(0,c.jsx)("div",{className:"col-12 text-right",children:(0,c.jsx)(k.Z,{type:"submit",className:"form-btn",children:"Save Profile"})})]})]})})})}),(0,c.jsx)(I.Z,{eventKey:"tab-password",title:"Change Password",children:(0,c.jsx)("div",{className:"row",children:(0,c.jsx)("div",{className:"col-12 mt-2",children:(0,c.jsxs)(E.Z,{className:"form form-password changePasswordForm",onSubmit:Q(function(e){var a={userProfileChangePassword:{oldPassword:e.oldPassword,newPassword:e.newPassword,result:""}};g.api.auth().authChangePasswordCreate(a).then(function(){w(r.two)}).catch(function(e){var a,s,i;q("serverError",{type:"server",message:(null===(a=e.response)||void 0===a?void 0:null===(s=a.error)||void 0===s?void 0:null===(i=s.data)||void 0===i?void 0:i.detail)||"An error occurs updating password."})})}),children:[J.serverError&&J.serverError.message&&(0,c.jsx)("div",{className:"alert error",children:(0,c.jsx)("ul",{children:(0,c.jsx)("li",{children:J.serverError.message.toString()})})}),(0,c.jsxs)("div",{className:"row",children:[(0,c.jsx)("div",{className:"col-12",children:(0,c.jsxs)("div",{className:"form-group",children:[(0,c.jsxs)(E.Z.Field,{children:[(0,c.jsx)("label",{className:"form-label",children:(0,c.jsx)("span",{className:"text",children:"Old Password"})}),(0,c.jsx)("input",(0,_.Z)({type:Z?"password":"text",className:"form-input",autoComplete:"off"},K("oldPassword",{required:!0,pattern:/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{6,15}$/})))]}),J.password&&(0,c.jsx)("div",{className:"error-message",children:"Please check the password"}),Z&&(0,c.jsx)(u.G,{icon:o.Mdf,className:"icon-eye",onClick:X}),Z||(0,c.jsx)(u.G,{icon:o.Aq,className:"icon-eye-hide",onClick:X})]})}),(0,c.jsx)("div",{className:"col-12",children:(0,c.jsxs)("div",{className:"form-group",children:[(0,c.jsxs)(E.Z.Field,{children:[(0,c.jsx)("label",{className:"form-label",children:(0,c.jsx)("span",{className:"text",children:"New Password"})}),(0,c.jsx)("input",(0,_.Z)({type:D?"password":"text",className:"form-input",autoComplete:"off"},K("password",{required:!0,pattern:/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{6,15}$/})))]}),J.password&&(0,c.jsx)("div",{className:"error-message",children:"Please check the password"}),D&&(0,c.jsx)(u.G,{icon:o.Mdf,className:"icon-eye",onClick:$}),D||(0,c.jsx)(u.G,{icon:o.Aq,className:"icon-eye-hide",onClick:$})]})}),(0,c.jsx)("div",{className:"col-12",children:(0,c.jsxs)("div",{className:"form-group",children:[(0,c.jsxs)(E.Z.Field,{children:[(0,c.jsx)("label",{className:"form-label",children:(0,c.jsx)("span",{className:"text",children:"Confirm New Password"})}),(0,c.jsx)("input",(0,_.Z)({type:z?"password":"text",className:"form-input",autoComplete:"off"},K("confirmPassword",{required:!0,pattern:/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{6,15}$/})))]}),J.password&&(0,c.jsx)("div",{className:"error-message",children:"Please check the password"}),z&&(0,c.jsx)(u.G,{icon:o.Mdf,className:"icon-eye",onClick:ee}),z||(0,c.jsx)(u.G,{icon:o.Aq,className:"icon-eye-hide",onClick:ee})]})}),(0,c.jsx)("div",{className:"col-12 text-right",children:(0,c.jsx)(k.Z,{type:"submit",className:"form-btn",children:"Change Password"})})]})]})})})}),(0,c.jsx)(I.Z,{eventKey:"tab-delete-account",title:"Delete Account",children:(0,c.jsx)(G,{profile:e.profile})})]})}),A===r.two&&(0,c.jsx)("div",{className:"container",children:(0,c.jsx)("div",{className:"description",children:(0,c.jsx)("p",{className:"sub-title",children:"Password updated successfully."})})})]})})}(i=r||(r={})).one="1",i.two="2",i.three="3";var B=s(25935),z=s(2465),R=s(80454),F=s.n(R);function O(e){var a,s,i,r,m=(0,t.Z)((0,b.useState)(0),2),h=m[0],f=m[1],p=b.useContext(d.Il),j=(0,t.Z)((0,b.useState)([]),2),g=j[0],N=j[1],A=(a=(0,n.Z)(function(a,s){var i,r,n,t,c,o,b,u,m,h,f,x,p,j,g,A,w,Z,C,_,k,E;return(0,l.__generator)(this,function(l){i=new Map,r=!0,n=!1,t=void 0;try{for(c=(0,v.Z)(d.iL).reverse()[Symbol.iterator]();!(r=(o=c.next()).done);r=!0){b=o.value,u=!0,m=!1,h=void 0;try{for(f=s[Symbol.iterator]();!(u=(x=f.next()).done);u=!0)(p=x.value).name==b.name&&((Z=a.filter(function(e){return e.achievement.id===p.id})[0])||(Z={achievement:p,position:0}),C={Config:b,Level:p.level,Achievement:Z,Image:"/images/badges/".concat(b.image,"_").concat(p.level-1,".png")},i.get(b.name)&&((null===(j=i.get(b.name))||void 0===j?void 0:null===(g=j.Achievement)||void 0===g?void 0:g.position)||0)>((null==C?void 0:null===(A=C.Achievement)||void 0===A?void 0:A.position)||0)&&(C.Achievement.position=null===(_=i.get(b.name))||void 0===_?void 0:null===(k=_.Achievement)||void 0===k?void 0:k.position),(!i.get(b.name)||((null===(w=i.get(b.name))||void 0===w?void 0:w.Level)||0)<C.Level)&&i.set(b.name,C))}catch(e){m=!0,h=e}finally{try{u||null==f.return||f.return()}finally{if(m)throw h}}}}catch(e){n=!0,t=e}finally{try{r||null==c.return||c.return()}finally{if(n)throw t}}return(E=Array.from(i.values())).sort(function(e,a){return e.Achievement&&a.Achievement?e.Achievement.position&&a.Achievement.position&&e.Achievement.position>0&&a.Achievement.position>0?e.Achievement.position-a.Achievement.position:e.Achievement.position&&e.Achievement.position>0?-1:a.Achievement.position&&a.Achievement.position>0?1:e.Achievement.achievement.submission.created.getMilliseconds()-a.Achievement.achievement.submission.created.getMilliseconds():0}),e.canEdit&&E.forEach(function(e,a){var s;(null===(s=e.Achievement)||void 0===s?void 0:s.position)===0&&a<5&&y(e,a+1)}),N(E),[2]})}),function(e,s){return a.apply(this,arguments)}),w=(s=(0,n.Z)(function(e){return(0,l.__generator)(this,function(a){switch(a.label){case 0:var s;return[4,e.forEach((s=(0,n.Z)(function(e,a){var s;return(0,l.__generator)(this,function(i){switch(i.label){case 0:if(!(null===(s=e.Achievement)||void 0===s?void 0:s.achievement.id))return[3,2];return[4,y(e,a+1<=3?a+1:0)];case 1:i.sent(),i.label=2;case 2:return[2]}})}),function(e,a){return s.apply(this,arguments)}))];case 1:return a.sent(),[2,e]}})}),function(e){return s.apply(this,arguments)}),y=(i=(0,n.Z)(function(a,s){var i,r,n;return(0,l.__generator)(this,function(t){switch(t.label){case 0:if(!(null===(i=a.Achievement)||void 0===i?void 0:i.achievement.id))return[3,3];if(!(s>0&&s<=3))return[3,2];return n={achievementId:null===(r=a.Achievement)||void 0===r?void 0:r.achievement.id,userId:e.user_id,bestAchievementPosition:{position:s}},[4,p.api.api().v1alpha1UsersAchievementsBestUpdate(n)];case 1:t.sent(),t.label=2;case 2:a.Achievement.position=s,t.label=3;case 3:return[2,a]}})}),function(e,a){return i.apply(this,arguments)});(0,b.useEffect)(function(){var a;(a=(0,n.Z)(function(){var a;return(0,l.__generator)(this,function(s){switch(s.label){case 0:return s.trys.push([0,4,,5]),[4,p.api.api().v1alpha1UsersAchievementsList({userId:e.user_id})];case 1:return a=s.sent(),[4,p.api.api().v1alpha1UsersAchievementsBestList({userId:e.user_id})];case 2:return[4,A(s.sent(),a)];case 3:return s.sent(),f(1),[3,5];case 4:return s.sent(),[3,5];case 5:return[2]}})}),function(){return a.apply(this,arguments)})()},[h]);var Z=(r=(0,n.Z)(function(e,a){var s,i;return(0,l.__generator)(this,function(r){switch(r.label){case 0:return[4,w(s=F()(g,e,a))];case 1:return s=r.sent(),(i=document.querySelector(".player-submissions-best-badges.can-edit"))&&i.classList.add("loading"),setTimeout(function(){N(s),i&&i.classList.remove("loading")},200),[2]}})}),function(e,a){return r.apply(this,arguments)});return e.canEdit?(0,c.jsxs)("div",{className:"player-submissions-best-badges-wrapper",children:[g.length>0&&(0,c.jsx)("div",{className:"text",children:"Choose the 3 achievements you are most proud of, they will be shown in your submissions recording."}),(0,c.jsx)(z.ZP,{onSortEnd:Z,className:"player-submissions-best-badges can-edit",draggedItemClassName:"dragged",children:g.map(function(e,a){var s,i,r;return(0,c.jsx)(z.TR,{children:(0,c.jsxs)("div",{className:"s-badge",title:e.Config.name,"data-description":e.Config.description,"data-badge-date":null===(s=e.Achievement)||void 0===s?void 0:s.achievement.submission.created.toDateString(),children:[(0,c.jsx)("div",{style:{backgroundImage:"url(".concat(e.Image,")")},className:"w-20 h-20 s-badge-item"}),(0,c.jsx)(u.G,{icon:o.HHh,className:"icon-move"}),(r=e.Achievement)&&void 0!=r.position&&r.position>0&&r.position<=3&&(0,c.jsx)("span",{className:"badge-number","data-index":null===(i=e.Achievement)||void 0===i?void 0:i.position,children:(0,c.jsx)(u.G,{icon:o.Tab})})]})},a)})})]}):(0,c.jsx)("div",{className:"player-submissions-best-badges",children:g.slice(0,3).map(function(e,a){var s;return(0,c.jsx)("div",{className:"s-badge",title:e.Config.name,"data-description":e.Config.description,"data-badge-date":null===(s=e.Achievement)||void 0===s?void 0:s.achievement.submission.created.toDateString(),children:(0,c.jsx)(x(),{src:e.Image,className:"w-20 h-20",height:120,width:120,alt:e.Config.description})},a)})})}var T=s(51438),V=s(28668),q=s(69396),H=s(91224),W=s(9253),K=s(98687),J=s(3023),Q=s(75358),X=s(14888),$=s(56880),ee=function(e){(0,V.Z)(s,e);var a=(0,H.Z)(s);function s(){return(0,T.Z)(this,s),a.apply(this,arguments)}return s.prototype.render=function(){var e=this.props,a=e.cx,s=e.cy,i=e.payload;return a!==+a||s!==+s?null:(null==i?void 0:i.submission)?(0,c.jsx)("circle",{cx:a,cy:s,r:"5",fill:"#c19022",width:"10",height:"10"}):null},s}(b.Component);function ea(e){var a=(0,t.Z)((0,b.useState)(),2),s=a[0],i=a[1],r=(0,t.Z)((0,b.useState)(),2),n=r[0],l=r[1],o=(0,t.Z)((0,b.useState)(),2),u=o[0],m=o[1],h=function(a,s){var i,r=null===(i=e.submissions)||void 0===i?void 0:i.filter(function(e){var a=L()(e.submission.created).format("YYYY-MM");return L()(s,"YYYY-MM").isSameOrAfter(L()(a,"YYYY-MM"))}),n=f(null==r?void 0:r.sort(function(e,a){return e.score<a.score?1:-1})),t=null==n?void 0:n.indexOf(a);return void 0!=t&&t>-1?t+1:0},f=function(e){var a=new Set,s=[];return e&&e.forEach(function(i){var r=i.submission.user.id;if(!a.has(r)){a.add(r);var n,t=e.find(function(a){return a.submission.user.id===r&&a.score===(n=Math).max.apply(n,(0,v.Z)(e.filter(function(e){return e.submission.user.id===r}).map(function(e){return e.score})))});t&&s.push(t)}}),s},x=function(a){var s;return null===(s=e.submissions)||void 0===s?void 0:s.filter(function(s){var i=L()(s.submission.created).format("YYYY-MM");return e.user_id===s.submission.user.id&&L()(a,"YYYY-MM").isSameOrAfter(L()(i,"YYYY-MM"))}).sort(function(e,a){return e.score<a.score?1:-1})[0]},p=function(e){if(e){var a=d.bs.filter(function(a){return a.id===e})[0];return a?a.name+" ("+e+")":"N/A"}return null};if((0,b.useEffect)(function(){if(e.submissions){var a=[],s=L()().subtract(9,"months");a.push("");for(var r=0;r<12;r++){var n=s.add(1,"months");a.push(n.format("MMM YY"))}a.push(""),i(a);for(var t=[],c=0,d=L()().format("YYYY-MM"),o=L()().subtract(9,"months"),b=0;b<12;b++){var u=o.add(1,"months"),v=u.format("YYYY-MM");if(!L()(v,"YYYY-MM").isAfter(L()(d,"YYYY-MM"))){var f=x(v);if(f){var p=h(f,v);c=Math.max(c,p);var j={id:(b+1).toString().padStart(2,"0"),name:u.format("MMM YY"),submission:{id:f.submission.id+"",name:f.image||f.submission.manifest.image+""||"",value:parseFloat(A.Z.isNotNull(f.score)?f.score+"":"0"),month:v,date:f.submission.created,game:f.game},value:f.image||f.submission.manifest.image+""||"","Best rank":p,month:v};t.push(j)}}}l(t),m(c+10)}},[e]),n&&s){var j=s.map(function(e){var a=n.filter(function(a){return a.name===e})[0];return a?(0,q.Z)((0,_.Z)({},a),{month:e}):{month:e,"Best rank":null}});return(0,c.jsx)("div",{className:"stats-chart-wrapper",style:{width:"100%",height:(e.height||400)+"px",backgroundColor:e.backgroundColor||"transparent",userSelect:"none",WebkitUserSelect:"none"},children:(0,c.jsx)(W.h,{children:(0,c.jsxs)(K.w,{width:e.width||800,height:e.height||800,data:j,margin:{top:20,right:20,bottom:20,left:20},children:[(0,c.jsx)(J.K,{axisLine:{stroke:"#a5101f"},dataKey:"month"}),(0,c.jsx)(Q.B,{domain:[1,u||"auto"],type:"number",reversed:!0}),(0,c.jsx)(X.u,{content:(0,c.jsx)(function(e){var a=e.active,s=e.payload,i=e.external,r=e.label;if(a){var n,t=i.filter(function(e){return e.name===r})[0];if(t&&t.name&&A.Z.isNotNull(null==s?void 0:null===(n=s[0])||void 0===n?void 0:n.value)&&t.submission){var l=L()().month(t.name).format("MMMM");return(0,c.jsxs)("div",{className:"area-chart-tooltip",style:{padding:"1rem",backgroundColor:"#000",border:"1px solid #ccc",borderRadius:4},children:[(0,c.jsxs)("p",{children:["In ",l," the Best submission is:"]}),(0,c.jsxs)("p",{children:["Submission ID: ",(0,c.jsx)("b",{style:{color:"#eeaf22"},children:t.submission.id})]}),(0,c.jsxs)("p",{children:["Game: ",(0,c.jsx)("b",{style:{color:"#eeaf22"},children:p(t.submission.game)})]}),(0,c.jsxs)("p",{children:["Date: ",(0,c.jsx)("b",{style:{color:"#eeaf22"},children:t.submission.date.toDateString()})]}),(0,c.jsxs)("p",{children:["Leaderboard Position: ",(0,c.jsx)("b",{style:{color:"#eeaf22"},children:t["Best rank"]})]}),(0,c.jsxs)("p",{children:["Reward: ",(0,c.jsx)("b",{style:{color:"#eeaf22"},children:t.submission.value})]})]})}}return null},{external:n})}),(0,c.jsx)($.x,{type:"monotone",yAxisId:0,dataKey:"Best rank",stroke:"#eeaf22",strokeWidth:3,strokeOpacity:.55,dot:(0,c.jsx)(ee,{}),activeDot:{fill:"#edae2254",stroke:"none",r:25},isAnimationActive:!1},"0")]})})})}return null}var es=[{name:"All Games",id:"",position:0}].concat((0,v.Z)(d.bs));function ei(e){var a=b.useContext(d.Il),s=(0,t.Z)((0,b.useState)(),2),i=s[0],r=s[1],o=(0,t.Z)((0,b.useState)(),2),u=o[0],m=o[1],h=(0,t.Z)((0,b.useState)(!1),2),v=h[0],f=h[1],x=(0,t.Z)((0,b.useState)(""),2),p=x[0],j=x[1],g=(0,t.Z)((0,b.useState)("All Games"),2),N=g[0],A=g[1],w=function(e,a){return e.submission.created>a.submission.created?-1:1};(0,b.useEffect)(function(){var e;(e=(0,n.Z)(function(){var e;return(0,l.__generator)(this,function(s){switch(s.label){case 0:return[4,a.api.api().v1alpha1SubmissionsAllList()];case 1:return(e=s.sent()).sort(w),m(Array.from(e)),r(Array.from(e)),[2]}})}),function(){return e.apply(this,arguments)})()},[e.user_id]),(0,b.useEffect)(function(){m(null==i?void 0:i.filter(function(e){return""===p||e.game===p}))},[p]),(0,b.useEffect)(function(){return document.addEventListener("click",y),function(){return document.removeEventListener("click",y)}},[]);var y=function(e){var a=e.target;a&&a.classList.contains("stats-games-filters-dropdown")||a.closest(".stats-games-filters-dropdown")||f(!1)},Z=function(e){j(e.id),A(e.name)};return(0,c.jsx)("section",{className:"section","data-path":"/stats",id:"stats",children:(0,c.jsxs)("div",{className:"submission-stats-wrapper",children:[(0,c.jsxs)("div",{className:"stats-games-selectors",children:[(0,c.jsx)("div",{className:"stats-games-filters",children:es.map(function(e,a){return(0,c.jsx)("div",{className:"stats-filter",children:(0,c.jsxs)("label",{className:p===e.id?"active":"",children:[(0,c.jsx)("input",{defaultChecked:0==a,type:"radio",id:e.id,name:"filter",value:e.id,onChange:function(){return Z(e)}}),e.name]})},a)})}),(0,c.jsxs)("div",{className:"mobile-filter-selector",children:[(0,c.jsx)("h5",{className:"filters-title",children:"Filters"}),(0,c.jsxs)("div",{className:"dropdown stats-games-filters-dropdown","data-item":"filters",children:[(0,c.jsx)("button",{className:"btn dropdown-toggle",type:"button","aria-haspopup":"true","aria-expanded":"false",onClick:function(){return f(!0)},children:(0,c.jsx)("span",{children:N})}),(0,c.jsx)("div",{className:(v?"show ":"")+"dropdown-menu",children:es.map(function(e,a){return(0,c.jsx)("li",{className:"dropdown-item",onClick:function(){return Z(e)},children:e.name},a)})})]})]})]}),(0,c.jsx)("div",{className:"row",children:(0,c.jsx)("div",{className:"col-12",children:(0,c.jsx)(ea,{user_id:e.user_id,submissions:u,showValue:!0})})})]})})}var er=s(99977),en="https://gravatar.com/avatar/{id}?s=400&d=robohash&r=r";function et(e){var a=b.useContext(d.Il),s=function(e){a.api.auth().authEditAvatarCreate({userProfileAvatar:{avatar:e,result:""}}).then(function(){var a=new CustomEvent("avatar-changed",{detail:{avatar:e}});document.dispatchEvent(a)}).catch(function(e){console.log(e)})},i="";return e.user_gravatar&&(i=en.replace("{id}",e.user_gravatar)),(0,c.jsxs)("div",{className:"avatar-wrapper",children:[(0,c.jsx)("h3",{className:"avatar-title",children:"Select your Avatar:"}),(0,c.jsxs)("div",{className:"avatar-list",children:[(0,c.jsxs)("div",{className:"avatar-wrapper",children:[(0,c.jsx)("h5",{className:"avatar-sub-title",children:"DIAMBRA Robot:"}),(0,c.jsx)("div",{className:(""===e.id?"current ":"")+"avatar-item",onClick:function(){return s("")},children:(0,c.jsx)(x(),{src:er.Z,alt:"Diambra robot"})})]}),e.user_gravatar&&(0,c.jsxs)("div",{className:"avatar-wrapper",children:[(0,c.jsxs)("h5",{className:"avatar-sub-title",children:["Your Email Gravatar ",(0,c.jsx)("br",{}),"(Set it on ",(0,c.jsx)("a",{target:"_blank",href:" https://en.gravatar.com/",children:"Gravatar"}),"):"]}),(0,c.jsx)("div",{className:(e.user_gravatar===e.id?"current ":"")+"avatar-item",onClick:function(){return s(e.user_gravatar||"")},children:(0,c.jsx)(x(),{src:i,alt:"Configure the gravatar associated to your email in https://en.gravatar.com/"})})]})]}),(0,c.jsx)("h3",{className:"avatar-title",children:"Random Avatar:"}),(0,c.jsx)("div",{className:"avatar-list",children:el.map(function(a,i){var r=en.replace("{id}",a);return(0,c.jsx)("div",{className:(a===e.id?"current ":"")+"avatar-item",onClick:function(){return s(a)},children:(0,c.jsx)(x(),{src:r,alt:a})},i)})})]})}var el=["1bb651a3b2b9047de4976293e20392762","1bb651a3b2b9047de4976293e2039263","1bb651a3b2b9047de4976293e2039264","1bb651a3b2b9047de4976293e2039265","1bb651a3b2b9047de4976293e2039266","1bb651a3b2b9047de4976293e2039267","1bb651a3b2b9047de4976293e2039268","1bb651a3b2b9047de4976293e2039269","1bb651a3b2b9047de4976293e2039270","1bb651a3b2b9047de4976293e2039271","1bb651a3b2b9047de4976293e2039272","1bb651a3b2b9047de4976293e2039273","1bb651a3b2b9047de4976293e2039274","1bb651a3b2b9047de4976293e2039275","1bb651a3b2b9047de4976293e2039276","1bb651a3b2b9047de4976293e2039277","1bb651a3b2b9047de4976293e2039278","1bb651a3b2b9047de4976293e2039279","1bb651a3b2b9047de4976293e2039280","1bb651a3b2b9047de4976293e2039281","1bb651a3b2b9047de4976293e2039282","1bb651a3b2b9047de4976293e2039283","1bb651a3b2b9047de4976293e2039284","1bb651a3b2b9047de4976293e2039285","1bb651a3b2b9047de4976293e2039286","1bb651a3b2b9047de4976293e2039287","1bb651a3b2b9047de4976293e2039288","1bb651a3b2b9047de4976293e2039289","1bb651a3b2b9047de4976293e2039290","1bb651a3b2b9047de4976293e2039291","1bb651a3b2b9047de4976293e2039292","1bb651a3b2b9047de4976293e2039293","1bb651a3b2b9047de4976293e2039294","1bb651a3b2b9047de4976293e2039295","1bb651a3b2b9047de4976293e2039296","1bb651a3b2b9047de4976293e2039297","1bb651a3b2b9047de4976293e2039298","1bb651a3b2b9047de4976293e2039299","1bb651a3b2b9047de4976293e2039300","1bb651a3b2b9047de4976293e2039301","1bb651a3b2b9047de4976293e2039302","1bb651a3b2b9047de4976293e2039303","1bb651a3b2b9047de4976293e2039304","1bb651a3b2b9047de4976293e2039305","1bb651a3b2b9047de4976293e2039306","1bb651a3b2b9047de4976293e2039307","1bb651a3b2b9047de4976293e2039308","1bb651a3b2b9047de4976293e2039309","1bb651a3b2b9047de4976293e2039310","1bb651a3b2b9047de4976293e2039311","1bb651a3b2b9047de4976293e2039312","1bb651a3b2b9047de4976293e2039313","1bb651a3b2b9047de4976293e2039314","1bb651a3b2b9047de4976293e2039315","1bb651a3b2b9047de4976293e2039316","1bb651a3b2b9047de4976293e2039317","1bb651a3b2b9047de4976293e2039318","1bb651a3b2b9047de4976293e2039319","1bb651a3b2b9047de4976293e2039320","1bb651a3b2b9047de4976293e2039321","1bb651a3b2b9047de4976293e2039322","1bb651a3b2b9047de4976293e2039323","1bb651a3b2b9047de4976293e2039324","1bb651a3b2b9047de4976293e2039325","1bb651a3b2b9047de4976293e2039326","1bb651a3b2b9047de4976293e2039327","1bb651a3b2b9047de4976293e2039328","1bb651a3b2b9047de4976293e2039329","1bb651a3b2b9047de4976293e2039330","1bb651a3b2b9047de4976293e2039331","1bb651a3b2b9047de4976293e2039332","1bb651a3b2b9047de4976293e2039333","1bb651a3b2b9047de4976293e2039334","1bb651a3b2b9047de4976293e2039335","1bb651a3b2b9047de4976293e2039336","1bb651a3b2b9047de4976293e2039337","1bb651a3b2b9047de4976293e2039338","1bb651a3b2b9047de4976293e2039339","1bb651a3b2b9047de4976293e2039340","1bb651a3b2b9047de4976293e2039341","1bb651a3b2b9047de4976293e2039342","1bb651a3b2b9047de4976293e2039343","1bb651a3b2b9047de4976293e2039344","1bb651a3b2b9047de4976293e2039345","1bb651a3b2b9047de4976293e2039346","1bb651a3b2b9047de4976293e2039347","1bb651a3b2b9047de4976293e2039348","1bb651a3b2b9047de4976293e2039349","1bb651a3b2b9047de4976293e2039350","1bb651a3b2b9047de4976293e2039351","1bb651a3b2b9047de4976293e2039352","1bb651a3b2b9047de4976293e2039353","1bb651a3b2b9047de4976293e2039354","1bb651a3b2b9047de4976293e2039355","1bb651a3b2b9047de4976293e2039356","1bb651a3b2b9047de4976293e2039357","1bb651a3b2b9047de4976293e2039358","1bb651a3b2b9047de4976293e2039359","1bb651a3b2b9047de4976293e2039360","1bb651a3b2b9047de4976293e2039361","1bb651a3b2b9047de4976293e2039362","1bb651a3b2b9047de4976293e2039363","1bb651a3b2b9047de4976293e2039364","1bb651a3b2b9047de4976293e2039365","1bb651a3b2b9047de4976293e2039366","1bb651a3b2b9047de4976293e2039367","1bb651a3b2b9047de4976293e2039368","1bb651a3b2b9047de4976293e2039369","1bb651a3b2b9047de4976293e2039370","1bb651a3b2b9047de4976293e2039371","1bb651a3b2b9047de4976293e2039372","1bb651a3b2b9047de4976293e2039373","1bb651a3b2b9047de4976293e2039374","1bb651a3b2b9047de4976293e2039375","1bb651a3b2b9047de4976293e2039376","1bb651a3b2b9047de4976293e2039377","1bb651a3b2b9047de4976293e2039378","1bb651a3b2b9047de4976293e2039379","1bb651a3b2b9047de4976293e2039380","1bb651a3b2b9047de4976293e2039381","1bb651a3b2b9047de4976293e2039382","1bb651a3b2b9047de4976293e2039383","1bb651a3b2b9047de4976293e2039384","1bb651a3b2b9047de4976293e2039385","1bb651a3b2b9047de4976293e2039386","1bb651a3b2b9047de4976293e2039387","1bb651a3b2b9047de4976293e2039388","1bb651a3b2b9047de4976293e2039389","1bb651a3b2b9047de4976293e2039390","1bb651a3b2b9047de4976293e2039391","1bb651a3b2b9047de4976293e2039392","1bb651a3b2b9047de4976293e2039393","1bb651a3b2b9047de4976293e2039394","1bb651a3b2b9047de4976293e2039395","1bb651a3b2b9047de4976293e2039396","1bb651a3b2b9047de4976293e2039397","1bb651a3b2b9047de4976293e2039398","1bb651a3b2b9047de4976293e2039399","1bb651a3b2b9047de4976293e2039400","1bb651a3b2b9047de4976293e2039401","1bb651a3b2b9047de4976293e2039402","1bb651a3b2b9047de4976293e2039403","1bb651a3b2b9047de4976293e2039404","1bb651a3b2b9047de4976293e2039405","1bb651a3b2b9047de4976293e2039406","1bb651a3b2b9047de4976293e2039407","1bb651a3b2b9047de4976293e2039408","1bb651a3b2b9047de4976293e2039409","1bb651a3b2b9047de4976293e2039410","1bb651a3b2b9047de4976293e2039411","1bb651a3b2b9047de4976293e2039412","1bb651a3b2b9047de4976293e2039413","1bb651a3b2b9047de4976293e2039414","1bb651a3b2b9047de4976293e2039415","1bb651a3b2b9047de4976293e2039416","1bb651a3b2b9047de4976293e2039417","1bb651a3b2b9047de4976293e2039418","1bb651a3b2b9047de4976293e2039419","1bb651a3b2b9047de4976293e2039420","1bb651a3b2b9047de4976293e2039421","1bb651a3b2b9047de4976293e2039422","1bb651a3b2b9047de4976293e2039423","1bb651a3b2b9047de4976293e2039424","1bb651a3b2b9047de4976293e2039425","1bb651a3b2b9047de4976293e2039426","1bb651a3b2b9047de4976293e2039427","1bb651a3b2b9047de4976293e2039428","1bb651a3b2b9047de4976293e2039429","1bb651a3b2b9047de4976293e2039430","1bb651a3b2b9047de4976293e2039431","1bb651a3b2b9047de4976293e2039432","1bb651a3b2b9047de4976293e2039433","1bb651a3b2b9047de4976293e2039434","1bb651a3b2b9047de4976293e2039435","1bb651a3b2b9047de4976293e2039436","1bb651a3b2b9047de4976293e2039437","1bb651a3b2b9047de4976293e2039438","1bb651a3b2b9047de4976293e2039439","1bb651a3b2b9047de4976293e2039440","1bb651a3b2b9047de4976293e2039441","1bb651a3b2b9047de4976293e2039442","1bb651a3b2b9047de4976293e2039443","1bb651a3b2b9047de4976293e2039444","1bb651a3b2b9047de4976293e2039445","1bb651a3b2b9047de4976293e2039446","1bb651a3b2b9047de4976293e2039447","1bb651a3b2b9047de4976293e2039448","1bb651a3b2b9047de4976293e2039449","1bb651a3b2b9047de4976293e2039450","1bb651a3b2b9047de4976293e2039451","1bb651a3b2b9047de4976293e2039452","1bb651a3b2b9047de4976293e2039453","1bb651a3b2b9047de4976293e2039454","1bb651a3b2b9047de4976293e2039455","1bb651a3b2b9047de4976293e2039456","1bb651a3b2b9047de4976293e2039457","1bb651a3b2b9047de4976293e2039458","1bb651a3b2b9047de4976293e2039459","1bb651a3b2b9047de4976293e2039460","1bb651a3b2b9047de4976293e2039461","1bb651a3b2b9047de4976293e2039462","1bb651a3b2b9047de4976293e2039463","1bb651a3b2b9047de4976293e2039464","1bb651a3b2b9047de4976293e2039465","1bb651a3b2b9047de4976293e2039466","1bb651a3b2b9047de4976293e2039467","1bb651a3b2b9047de4976293e2039468","1bb651a3b2b9047de4976293e2039469","1bb651a3b2b9047de4976293e2039470"],ec=s(78316),ed=["\uD83E\uDD47","\uD83E\uDD48","\uD83E\uDD49"];function eo(e){var a=b.useContext(d.Il),s=(0,t.Z)((0,b.useState)([]),2),i=s[0],r=s[1];return(0,b.useEffect)(function(){var s;(s=(0,n.Z)(function(){return(0,l.__generator)(this,function(s){switch(s.label){case 0:return[4,a.api.api().v1alpha1UsersLeaderboardList({userId:e.user_id})];case 1:return r(s.sent()),[2]}})}),function(){return s.apply(this,arguments)})()},[e]),(0,c.jsx)("div",{className:"personal-leadboard-wrapper",children:0!==i.length&&(0,c.jsx)("div",{className:"personal-leadboard-inner",children:(0,c.jsx)("div",{className:"personal-leadboard-body",children:i.map(function(e,a){return(0,c.jsx)(N(),{href:"/submission/".concat(e.submission.id),className:"leadboard-box","data-rank":e.rank,children:(0,c.jsxs)("div",{className:"personal-leadboard-item",children:[(0,c.jsxs)("div",{className:"info-wrapper",children:[(0,c.jsxs)("div",{className:"row line-1",children:[(0,c.jsxs)("div",{className:"col-6 game",children:[(0,c.jsx)("h5",{children:"Game"}),(0,c.jsx)("p",{title:e.game||"",children:e.game})]}),(0,c.jsxs)("div",{className:"col-6 score",children:[(0,c.jsx)("h5",{children:"Score"}),(0,c.jsx)("p",{title:e.score+"",children:e.score})]})]}),(0,c.jsxs)("div",{className:"row line-2",children:[(0,c.jsx)("div",{className:"col-6 difficulty",children:(0,c.jsx)("span",{className:"tag","data-difficulty":e.difficulty,title:d.n9[null!=e.difficulty?e.difficulty:3],children:d.n9[null!=e.difficulty?e.difficulty:3]})}),(0,c.jsx)("div",{className:"col-6 created-date d-none d-lg-block",children:(0,c.jsx)("p",{title:e.submission.created.toDateString(),children:e.submission.created.toDateString()})})]})]}),(0,c.jsx)("div",{className:"position-wrapper",children:(0,c.jsx)("div",{className:"item-rank",children:e.rank<=ed.length?ed[e.rank-1]:e.rank})})]},a)},a)})})})})}var eb={superWide:s(50321),hd:s(12664),tablet:s(41737),mobile:s(56113)},eu=function(e){var a={};if(e.socials)try{a=JSON.parse(e.socials)||{}}catch(e){}return a};function em(e){var a,s=A.Z.getResponsiveImageUrl,i=e.username,r=(0,b.useRef)(!1),v=(0,t.Z)((0,b.useState)(0),2),f=v[0],x=v[1],p=(0,t.Z)((0,b.useState)(),2),g=p[0],N=p[1],w=(0,t.Z)((0,b.useState)({}),2),y=w[0],_=w[1],k=b.useContext(d.Il),E="editProfileModal",S=(0,t.Z)((0,b.useState)(!1),2),M=S[0],I=S[1],Y=(0,t.Z)((0,b.useState)(!1),2),L=Y[0],D=Y[1];(0,b.useEffect)(function(){document.removeEventListener("edit-profile-modal-close",P,!0),document.addEventListener("edit-profile-modal-close",P,{passive:!0})});var P=function(){I(!1),x(0);var e=document.getElementById(E),a=new CustomEvent("modal-close",{detail:{element:e}});document.dispatchEvent(a)},G=function(){x(0),D(!1)};return((0,b.useEffect)(function(){var e,a=(e=(0,n.Z)(function(){var e;return(0,l.__generator)(this,function(a){switch(a.label){case 0:if(A.Z.showSpinner(),!k.api)return[2];r.current=!0,a.label=1;case 1:return a.trys.push([1,3,,4]),[4,void 0==i?k.api.api().v1alpha1UserRetrieve():k.api.api().v1alpha1UsersRetrieve2({username:i})];case 2:return _(eu(e=a.sent())),N(e),x(1),[3,4];case 3:return a.sent(),[3,4];case 4:return r.current=!1,e||(void 0===i?(k.api.logout(),location.href="/login"):location.href="/"),A.Z.hideSpinner(2e3),[2]}})}),function(){return e.apply(this,arguments)});r.current||(a(),document.removeEventListener("avatar-changed",function(){return G()},!0),document.addEventListener("avatar-changed",function(){return G()},{passive:!0}))},[f,k.api]),g)?(0,c.jsxs)("div",{className:"profile-wrapper",style:{backgroundImage:"url(".concat(s(eb).src,")")},children:[(0,c.jsxs)("div",{className:"container",children:[(0,c.jsxs)("div",{className:"player-info-wrapper",children:[(0,c.jsxs)("div",{className:"profile-avatar",children:[(0,c.jsx)("div",{className:"profile-avatar-img",children:(0,c.jsx)(ec.Z,{id:g.avatar})}),void 0==i&&(0,c.jsx)("div",{className:"fileupload",children:(0,c.jsx)("button",{onClick:function(){return D(!0)},children:(0,c.jsx)(u.G,{icon:o._jT})})})]}),(0,c.jsxs)("div",{className:"player-info-details",children:[(0,c.jsxs)("div",{className:"row",children:[(0,c.jsx)("div",{className:"col-12 col-lg-6",children:(0,c.jsxs)("div",{className:"row",children:[(0,c.jsx)("div",{className:"col-12",children:(0,c.jsxs)("div",{className:"player-info-details__item",children:[(0,c.jsx)("h6",{className:"player-info-details__title",children:"Battle name:"}),(0,c.jsx)("div",{className:"player-info-details__value",children:g.username})]})}),void 0!=g.email&&(0,c.jsx)("div",{className:"col-12",children:(0,c.jsxs)("div",{className:"player-info-details__item",children:[(0,c.jsx)("h6",{className:"player-info-details__title",children:"Email:"}),(0,c.jsx)("div",{className:"player-info-details__value",children:g.email})]})}),(0,c.jsx)("div",{className:"col-12",children:(0,c.jsxs)("div",{className:"player-info-details__item",children:[(0,c.jsx)("h6",{className:"player-info-details__title",children:"Name:"}),(0,c.jsx)("div",{className:"player-info-details__value",children:g.firstName})]})}),null!=g.lastName&&(0,c.jsx)("div",{className:"col-12",children:(0,c.jsxs)("div",{className:"player-info-details__item",children:[(0,c.jsx)("h6",{className:"player-info-details__title",children:"Surname:"}),(0,c.jsx)("div",{className:"player-info-details__value",children:g.lastName})]})})]})}),(0,c.jsx)("div",{className:"col-12 col-lg-6",children:(0,c.jsxs)("div",{className:"row",children:[null!=g.birthdate&&(0,c.jsx)("div",{className:"col-12",children:(0,c.jsxs)("div",{className:"player-info-details__item",children:[(0,c.jsx)("h6",{className:"player-info-details__title",children:"Birthdate:"}),(0,c.jsx)("div",{className:"player-info-details__value",children:g&&g.birthdate?g.birthdate.toDateString():""})]})}),(0,c.jsx)("div",{className:"col-12",children:(0,c.jsxs)("div",{className:"player-info-details__item",children:[(0,c.jsx)("h6",{className:"player-info-details__title",children:"Country:"}),(0,c.jsx)("div",{className:"player-info-details__value",children:g.country})]})}),(0,c.jsx)("div",{className:"col-12",children:(0,c.jsxs)("div",{className:"player-info-details__item",children:[(0,c.jsx)("h6",{className:"player-info-details__title",children:"Join Date:"}),(0,c.jsx)("div",{className:"player-info-details__value",children:null==g?void 0:null===(a=g.dateJoined)||void 0===a?void 0:a.toDateString()})]})}),(0,c.jsx)("div",{className:"col-12",children:(0,c.jsxs)("div",{className:"player-info-details__item",children:[(0,c.jsx)("h6",{className:"player-info-details__title",children:"Socials:"}),(null==y?void 0:y.twitter)&&(0,c.jsx)("a",{href:y.twitter,target:"_blank",title:y.twitter,className:"player-info-details__value",children:(0,c.jsx)(u.G,{icon:C.mdU})}),(null==y?void 0:y.github)&&(0,c.jsx)("a",{href:y.github,target:"_blank",title:y.github,className:"player-info-details__value",children:(0,c.jsx)(u.G,{icon:C.zhw})}),(null==y?void 0:y.linkedin)&&(0,c.jsx)("a",{href:y.linkedin,target:"_blank",title:y.linkedin,className:"player-info-details__value",children:(0,c.jsx)(u.G,{icon:C.D9H})})]})})]})}),(0,c.jsx)("div",{className:"col-12",children:(0,c.jsxs)("div",{className:"player-info-details__item flex-column",children:[(0,c.jsx)("h6",{className:"player-info-details__title ",children:"About:"}),(0,c.jsx)("div",{className:"player-info-details__value about-text mt-2",children:(0,B.ZP)(g.biography||"")})]})})]}),void 0==i&&(0,c.jsx)("div",{className:"player-info-edit-wrapper",children:(0,c.jsx)("a",{onClick:function(){return I(!0)},className:"form-btn",children:"Edit Profile"})})]})]}),(0,c.jsx)("div",{className:"player-submissions",children:(0,c.jsxs)("div",{className:"row",children:[(0,c.jsxs)("div",{className:"col-12 col-lg-3",children:[(0,c.jsxs)("h5",{className:"headline",children:["Best Achievements",(0,c.jsx)("span",{className:"line"})]}),(0,c.jsx)(O,{user_id:g.id,canEdit:void 0==i})]}),(0,c.jsxs)("div",{className:"col-12 col-lg-9 submission-history-wrapper",children:[(0,c.jsxs)("h5",{className:"headline",children:["Submission History",(0,c.jsx)("span",{className:"line"})]}),(0,c.jsx)(Z,{user_id:g.id,isPersonal:void 0==i})]})]})}),(0,c.jsxs)("div",{className:"player-stats",children:[(0,c.jsxs)("h5",{className:"headline",children:["Leaderboard Positioning",(0,c.jsx)("span",{className:"line"})]}),(0,c.jsxs)("div",{className:"row",children:[(0,c.jsx)("div",{className:"col-12 col-lg-3",children:(0,c.jsx)(eo,{user_id:g.id})}),(0,c.jsx)("div",{className:"col-12 col-lg-9",children:(0,c.jsx)(ei,{user_id:g.id})})]})]}),(0,c.jsxs)("div",{className:"player-achievements",children:[(0,c.jsxs)("h5",{className:"headline",children:["Achievements",(0,c.jsx)("span",{className:"line"})]}),(0,c.jsx)(j,{user_id:g.id})]}),(0,c.jsx)("div",{className:"py-10",children:void 0==i&&(0,c.jsx)(h,{})})]}),void 0==i&&(0,c.jsxs)(m.Z,{id:E,show:M,onHide:P,size:"lg",centered:!0,backdrop:"static",children:[(0,c.jsx)(m.Z.Header,{closeButton:!0,closeVariant:"white",children:(0,c.jsx)(m.Z.Title,{children:"Update Profile"})}),(0,c.jsx)(m.Z.Body,{children:(0,c.jsx)(U,{profile:g,socials:y})})]}),void 0==i&&(0,c.jsxs)(m.Z,{show:L,onHide:function(){D(!1)},size:"xl",centered:!0,backdrop:"static",children:[(0,c.jsx)(m.Z.Header,{closeButton:!0,closeVariant:"white",children:(0,c.jsx)(m.Z.Title,{children:"Update Profile"})}),(0,c.jsx)(m.Z.Body,{children:(0,c.jsx)(et,{id:g.avatar,user_gravatar:g.gravatar})})]})]}):(0,c.jsx)("div",{children:"Loading..."})}}}]);